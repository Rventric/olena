2005-07-21  Roland Levillain  <roland@lrde.epita.fr>

	* tests/check/Makefile.runtests (check-runtests): Pass $(TEST) as
	argument to contrib/runtest.

2005-07-21  Roland Levillain  <roland@lrde.epita.fr>

	Partially fix the morphological reconstructions.

	* oln/funobj/arith.hh (min_alt_, max_alt_): New operators.
	(f_min_type_alt, f_max_type_alt): New objects.
	(f_min_alt, f_max_alt): New static objects.
	* oln/morpho/reconstruction_by_dilation.hh
	(impl_bkd_loop_body, impl_fwd_loop_body, impl_bkd_loop_body)
	(impl_fwd_loop_body, impl_fifo_loop_body)
	* oln/morpho/reconstruction_by_erosion.hh
	(impl_bkd_loop_body, impl_fwd_loop_body, impl_bkd_loop_body)
	(impl_fwd_loop_body, impl_fifo_loop_body): Use them.
	* oln/canvas/reconstruction.hh (hybrid_reconstruction::init)
	(sequential_reconstruction::impl_init)
	(sequential_reconstruction::impl_re_loop):
	Work around box's operator= limits.
	* oln/core/box.hh (operator=(const abstract::image<II>&)): Abort
	on call.
	* oln/core/gen/regular_window.hh (get_fwd_win, get_fwd_win_p)
	(get_bkd_win, get_bkd_win_p): Fix calls to std::vector::size.

	* tests/morpho/tests/reconstruction: Update test.
	Disable tests on sequential recontruction, since it doesn't work
	yet.
	* tests/morpho/tests/local: Rename as...
	* tests/morpho/tests/stat: ...this.
	Update test.
	* img/mask.pbm, img/mask.pbm: Invert these images.

2005-07-19  Roland Levillain  <roland@lrde.epita.fr>

	Fix some Olena tests.

	* tests/core/tests/setget
	(oln::set_props<category::image, dummy_image>::image_rawness_type):
	New typedef.
	* tests/morpho/tests/elementary_dilation,
	* tests/morpho/tests/elementary_erosion,
	* tests/morpho/tests/dilation, tests/morpho/tests/erosion,
	* tests/morpho/tests/closing, tests/morpho/tests/opening:
	* tests/morpho/tests/hit_or_miss_closing: Update MD5 sums.

2005-07-19  Roland Levillain  <roland@lrde.epita.fr>

	Fix elementary dilation.

	* oln/morpho/elementary_dilation.hh
	(elementary_dilation_(const abstract::binary_image<I>&))
	(elementary_dilation_(const abstract::not_binary_image<I>&)): Fix
	elementary dilation definition.

2005-07-19  Roland Levillain  <roland@lrde.epita.fr>

	Fix PBM (binary) image reading and writing (cont.).

	* oln/io/pnm_bin.hh (read_bin<oln::grid2d>::impl_read_value)
	(write_bin<oln::grid2d>::impl_write_value): Swap read value, as
	specified in the PBM specification (1 for black, 0 for white).

2005-07-19  Roland Levillain  <roland@lrde.epita.fr>

	Fix PBM (binary) image reading.

	* oln/core/abstract/grid.hh (oln_grd_type_of_): New macro.
	* oln/io/pnm_bin (read_bin<oln::grid2d>::size_type)
	(read_bin<oln::grid2d>::point_type)
	(write_bin<oln::grid2d>::size_type)
	(write_bin<oln::grid2d>::point_type): Define these typedefs using
	oln_grd_type_of_.
	(read_bin<oln::grid2d>::read_bin): Initialize v to 0.
	(write_bin<oln::grid2d>::write_bin): Initialize offset and v.


	Fix io/2d test.

	* oln/io/pnm_header.hh (iostream, string): Include these files.
	* oln/io/pnm_bin.hh, oln/io/pnm_real.hh, oln/io/pnm_vect.hh
	(oln/core/2d/point2d.hh, oln/core/2d/size2d.hh): Likewise.
	* oln/funobj/invert.hh (oln/core/gen/internal/value_box.hh):
	Likewise.
	* oln/core/abstract/image.hh: Add forward declaration of
	oln::value_box.
	* oln/core/gen/internal/value_box.hh
	(oln/overloaded_cmp_op_operand): New helper.
	(oln_decl_comp_binop_vb_whatever): Use it.
	* oln/io/gz_stream.hh: Add forward declarations to please G++ 4.0.
	* tests/io/tests/2d (oln/core/2d/image2d.hh): Include this file.

2005-07-12  Damien Thivolle  <damien@lrde.epita.fr>

	* oln/io/pnm_bin.hh: New. I/O functions for writing and reading a
	binary PNM file.
	* oln/io/pnm_read.hh: New. Facade to PNM input methods.
	* oln/io/read_image_pnm.hh: Remove.
	* oln/io/vectorial.hh: New. Read to and write from vectorial images.
	* oln/io/write_image_pnm_2d.hh: Remove.
	* oln/io/write_image.hh: Adapt to the new I/O modeling.
	* oln/io/write_image_pnm_decl.hh: Remove.
	* oln/io/pnm_real.hh: New. I/O functions for writing and reading a grey
	scale PNM file.
	* oln/io/utils.hh: Move pnm functions and structures to pnm_header.hh.
	* oln/io/pnm_header.hh: New. Contain functions and structures to read
	and write a PNM header.
	* oln/io/pnm_write.hh: New. Facade to PNM output methods.
	* oln/io/scalar.hh: New. Read to and write from scalar images.
	* oln/io/write_image_pnm.hh: Remove.
	* oln/io/pnm_vect.hh: New. I/O functions for writing and reading a rgb
	PNM file.
	* oln/io/read_image_pnm_2d.hh: Remove.
	* oln/io/read_image.hh: Adapt to the new I/O modeling.
	* oln/io/read_image_pnm_decl.hh: Remove.

2005-07-12  Damien Thivolle  <damien@lrde.epita.fr>

	* oln/canvas/io.hh: Contain New I/O Canvas. Two hierarchies are now
	handling I/O. The first one fills the image. The second one is
	dedicated to reading specific file formats. Two classes of those
	hierarchies communicate to fill an image from a file.

2005-07-11  Roland Levillain  <roland@lrde.epita.fr>

	Fix hit-or-miss closings.

	* oln/morpho/hit_or_miss.hh (hit_or_miss_closing),
	(hit_or_miss_closing_bg): Invert the result.

2005-07-08  Roland Levillain  <roland@lrde.epita.fr>

	Add top-hat operators.

	* oln/morpho/top_hat.hh: New file.
	* tests/morpho/tests/top_hat: New test.

	* olena/oln/morpho/hit_or_miss.hh: Add missing Doxygen tags in
	comments.

2005-07-08  Roland Levillain  <roland@lrde.epita.fr>

	Add hit-or-miss opening/closing and hit-or-miss opening/closing of
	the background.

	* oln/morpho/hit_or_miss.hh: More documentation.
	(hit_or_miss_opening, hit_or_miss_opening_bg)
	(hit_or_miss_closing, hit_or_miss_closing_bg): New.
	* tests/morpho/tests/hit_or_miss_opening,
	* tests/morpho/tests/hit_or_miss_closing: New tests.

2005-07-08  Roland Levillain  <roland@lrde.epita.fr>

	Fix PBM (binary) image reading.

	* oln/io/read_image_pnm_2d.hh:
	(read_pnm_bin::impl_read_point): Swap read value, as specified in
	the PBM specification (1 for black, 0 for white).

2005-07-07  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	'set' and 'get' are now only for images; 'at' is for data storage.
	
	* oln/core/abstract/image_rawness.hh (at): Rename default impl as...
	(impl_at): ...this.
	* oln/core/abstract/data_storage.hh (set,get): Remove methods cause
	they were obsolete since 'at' has been introduced.
	(OLNTRACE): Remove tracing since it is performed in image classes.
	* oln/core/abstract/image_with_data.hh (set,get): Replace by 'at'.
	(impl_set): Move to a better place.
	(impl_at): Add precondition.
	* oln/core/apply.hh (record.hh): Add include.
	* oln/core/1d/array1d.hh (impl_set,impl_set): Replace by...
	(impl_at): ...this.
	(impl_set_data): Remove cause useless.
	* oln/core/2d/array2d.hh (impl_set,impl_set): Remove.
	* oln/core/3d/array3d.hh (impl_set,impl_set): Remove.
	(impl_set_data): Remove cause useless.

	Factor data storage instanciations.
	
	* oln/core/traits.hh: New file.
	* oln/core/2d/image2d.hh: Remove dead code.
	(value_storage_type): Rely on storage type traits.

	Preparing a better overloading for classic operators.
	
	* oln/utils/overload.hh: New file.
	* oln/core/pw/macros.hh: Add explicit versions of macros where
	operators are procedures.
	* oln/core/pw/value.hh (value): Qualify explicitly inheritance to
	prevent name conflicts.
	* oln/core/pw/cmp.hh: Add room for explicit instanciation of
	procedures.

	Bug fixes.
	
	* tests/morpho/tests/geodesic_erosion (exact): Remove.
	* tests/morpho/tests/geodesic_dilation (exact): Remove.
	* oln/core/box.hh (inc_ncalls): Qualify method names in strings.
	* oln/core/1d/image1d.hh (operator=): New method.
	* oln/core/3d/image3d.hh (operator=): New method.
	* oln/utils/clone.hh: Fix end of namespace comment.
	* oln/morpho/geodesic_erosion.hh (n): Fix default value definition.
	(work): Fix first assignment in bodies.
	* oln/morpho/geodesic_dilation.hh: Likewise.
	
2005-07-07  Roland Levillain  <roland@lrde.epita.fr>

	Add hit-or-miss transform.

	* oln/morpho/hit_or_miss.hh: New file.
	* oln/core/2d/window1d.hh
	(window1d::add(const dpoint1d&)): Remove method.
	(window1d::add(coord_t)): New method.
	* oln/core/2d/window2d.hh
	(window2d::add(const dpoint2d&)): Remove method.
	(window2d::add(coord_t, coord_t)): New method.
	* oln/core/3d/window2d.hh
	(window3d::add(const dpoint3d&)): Remove method.
	(window3d::add(coord_t, coord_t, coord_t)): New method.
	* oln/core/abstract/window.hh (window::card, window::has): New
	abstract methods.
	* oln/core/gen/regular_window.hh (regular_window::card): Rename
	as...
	(regular_window::impl_card): ...this.
	(regular_window::impl_has, regular_window::add): New methods.
	(inter, uni): New functions.
	* tests/morpho/tests/hit_or_miss: New test.

	* oln/level/invert.hh: New file.
	* oln/funobj/invert.hh (invert::operator()(const value_box<V>&):
	New operator.
	* oln/morpho/thick_gradient.hh: Re-indent.
	* oln/makefile.src (OLN_DEP): Add level/invert.hh and
	morpho/hit_or_miss.hh.

2005-07-07  Roland Levillain  <roland@lrde.epita.fr>

	Fix PBM (binary) image writing.

	* oln/io/write_image_pnm_2d.hh (write_pnm_bin::extra_work): Rename
	as...
	(write_pnm_bin::impl_extra_work): ...this.
	(write_pnm_bin::impl_write_point): Swap written value, as
	specified in the PBM specification (1 for black, 0 for white).

2005-07-06  Roland Levillain  <roland@lrde.epita.fr>

	Fix operators on oln::value_box (cont.).  These can now work on
	any type of operands.

	* oln/core/gen/internal/value_box.hh
	(overloaded_arith_op_operand): New helper.
	(oln_decl_comp_binop_vb_whatever, oln_decl_comp_binop_ntgval_vb)
	(oln_decl_arith_binop_vb_whatever, oln_decl_arith_binop_ntgval_vb):
	New macros.
	(oln_decl_comp_binop_all, oln_decl_arith_binop_all): Adjust.
	(oln_decl_comp_binop_with_builtin)
	(oln_decl_comp_binop_builtin_vb, oln_decl_comp_binop_vb_builtin)
	(oln_decl_comp_binop_with_ntgval, oln_decl_comp_binop_ntgval_vb)
	(oln_decl_comp_binop_vb_ntgval, oln_decl_comp_binop_vb_vb)
	(oln_decl_arith_binop_all_but_builtin_float)
	(oln_decl_arith_binop_with_builtin_float)
	(oln_decl_arith_binop_with_builtin_int)
	(oln_decl_arith_binop_with_builtin)
	(oln_decl_arith_binop_builtin_vb, oln_decl_arith_binop_vb_builtin)
	(oln_decl_arith_binop_with_ntgval, oln_decl_arith_binop_ntgval_vb)
	(oln_decl_arith_binop_vb_ntgval, oln_decl_arith_binop_vb_vb):
	Remove macros.

2005-07-04  Roland Levillain  <roland@lrde.epita.fr>

	* tests/morpho/tests/gradient: Catch up with changes on
	morphological gradients.
	Rename as...
	* tests/morpho/tests/thick_gradient: ...this.

2005-07-04  Roland Levillain  <roland@lrde.epita.fr>

	Add tests on stretch conversions.

	* oln/convert/conversion.hh (apply): New.
	* tests/convert/tests/stretch,
	* tests/convert/tests/stretch-balance: New tests.

	* oln/core/pw/image.hh
	(set_props <category::image, image_from_pwf<F> >::ch_value_type):
	Fix definition.

2005-07-04  Roland Levillain  <roland@lrde.epita.fr>

	Add stretch conversions.

	* oln/convert/stretch.hh: New file.
	* oln/makefile.src (OLN_DEP): Add convert/stretch.hh.

2005-07-04  Roland Levillain  <roland@lrde.epita.fr>

	Allow the user to run the shortest path watershed transform
	without the lower completion step (at her own risks!).

	* oln/morpho/shortest_path_watershed.hh
	(morpho::shortest_path_watershed): Rename as...
	(morpho::internal::shortest_path_watershed_): ...this.
	(morpho::shortest_path_watershed): New facade.

2005-07-04  Roland Levillain  <roland@lrde.epita.fr>

	Fix operators on oln::value_box<>.

	* oln/core/gen/internal/value_box.hh (value_box<I>::operator==)
	(value_box<I>::operator!=, value_box<I>::operator<)
	(value_box<I>::operator>, value_box<const I>::operator==)
	(value_box<const I>::operator!=, value_box<const I>::operator<):
	Remove operators.
	(oln_decl_comp_binop_all, oln_decl_comp_binop_with_builtin)
	(oln_decl_comp_binop_builtin_vb, oln_decl_comp_binop_vb_builtin)
	(oln_decl_comp_binop_with_ntgval, oln_decl_comp_binop_ntgval_vb)
	(oln_decl_comp_binop_vb_ntgval, oln_decl_comp_binop_vb_vb)
	(oln_decl_arith_binop_all)
	(oln_decl_arith_binop_all_but_builtin_float)
	(oln_decl_arith_binop_with_builtin_float)
	(oln_decl_arith_binop_with_builtin_int)
	(oln_decl_arith_binop_with_builtin)
	(oln_decl_arith_binop_builtin_vb, oln_decl_arith_binop_vb_builtin)
	(oln_decl_arith_binop_with_ntgval, oln_decl_arith_binop_ntgval_vb)
	(oln_decl_arith_binop_vb_ntgval, oln_decl_arith_binop_vb_vb):
	New macros.  Use them to implement operators whose (at least) one
	operand is an oln::value_box.
	* oln/morpho/lower_completion.hh (lower_completion): Adjust.
	* oln/core/pw/arith.hh: Move all operators on point-wise
	functions to...
	(oln): ...this namespace.

2005-07-04  Roland Levillain  <roland@lrde.epita.fr>

	Catch up with changes in morphological gradients.

	* oln/morpho/temp.hh (force_value_type_to): Take the whole output
	image type as first parameter, not just its value type (which is
	deduced from the former).
	Use ntg::cast::force<> to perform the conversion.
	* oln/core/pw/image.hh
	(set_props <category::image, image_from_pwf<F> >::ch_value_type):
	New.
	* oln/morpho/gradient.hh, oln/morpho/thick_gradient.hh: Adjust.
	* oln/funobj/accum.hh (accum_with_init::fun_)
	(accum_with_init::value_): Switch the order of these declarations
	to match the order of their initializations in ctors.

	* oln/convert/force.hh, oln/level/level_components.hh: Aesthetic
	changes.
	* oln/level/extrema_components.hh: Likewise.
	(extrema_components): Use ntg_cumul_type(DestValue) to store the
	components labels.

2005-07-04  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add 'rawness' characteristic (ability to reference data at p)
	to images.  Add corresponding attribute access object mechanism.

	* oln/funobj/decl_attr.hh: New file.
	* oln/funobj/abstract/accessor.hh: New file.
	* oln/core/abstract/image_rawness.hh: New file.
	* oln/core/gen/mfun.hh: New file.
	* oln/core/gen/attr.hh: New file.
	* oln/makefile.src: Update.
	* oln/core/typedefs.hh: Update.
	* oln/core/abstract/image.hh: Update.
	* oln/core/abstract/image_entry.hh: Update.
	* oln/core/pw/image.hh: Update.

	* oln/funobj/abstract/unary.hh:
	(munary::operator()): Make it more general.
	* oln/core/abstract/image_neighbness.hh (impl_nbh_get()): Move
	from class body to default impl.
	* oln/core/abstract/data_storage.hh (at): New methods.
	* oln/core/abstract/image_with_data.hh (impl_at): Likewise.
	* oln/core/abstract/image_by_delegation.hh
	(set_props): Add image_constness_type.
	(ctors): Accept a box as input.
	* oln/core/2d/array2d.hh (impl_at): New methods.
	(impl_set, impl_get): Add fixme.
	* oln/core/pw/unary_op.hh (ctor): Relax static check.
	* oln/core/gen/image_with_nbh.hh: Add fixme.
	* oln/core/gen/internal/value_box.hh: Add fixme.
	* oln/morpho/dilation.hh (local): Add include.
	* oln/morpho/erosion.hh (local): Add include.
	(impl::erosion_): Add fixme.
	* oln/morpho/thick_gradient.hh (gradient_beucher): Rename as...
	(thick_gradient_beucher): ...This.

2005-06-27  Christophe Berger  <christophe@lrde.epita.fr>

	* oln/appli/astro/tree_coherance_checks.hh: Remove.
	* oln/appli/astro/tree_coherence_check.hh: New.

2005-06-27  Christophe Berger  <christophe@lrde.epita.fr>

	* oln/makefile.src: Add astro files.
	* oln/appli/astro/tree_coherance_checks.hh: Fix typo.
	* oln/appli/astro/tree_statistics.hh: Fix typo.

2005-06-23  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/core/pw/apply.hh (p_apply): Rename as...
	(pw_apply): ...this.
	* oln/morpho/elementary_dilation.hh: Rewrite.
	* oln/morpho/gradient.hh: Rewrite.
	* oln/morpho/closing.hh: Rewrite.
	* oln/morpho/opening.hh: Rewrite.
	* oln/morpho/dilation.hh: Rewrite.
	* oln/morpho/elementary_erosion.hh: Rewrite.
	* oln/morpho/geodesic_dilation.hh: Rewrite.
	* oln/morpho/erosion.hh: Rewrite.
	* oln/morpho/geodesic_erosion.hh: Rewrite.
	* oln/makefile.src: Update.

2005-06-23  Christophe Berger  <christophe@lrde.epita.fr>

	* oln/appli/astro/graphical_interface/filterinterface.hh: Set the
	default values at the beginning.

2005-06-23  Nicolas Widynski  <nicolas.widynski@lrde.epita.fr>

	* oln/appli/astro/clean.hh: Fix clean.hh for new interface.

2005-06-23  Roland Levillain  <roland@lrde.epita.fr>

	Add morphological gradients.

	* oln/morpho/gradient.hh: New file.
	* tests/morpho/tests/gradient: New test.
	* img/lena-small.pgm: New image.
	* img/Makefile.am (SOURCE_IMGS): Add $(srcdir)/lena-small.pgm.
	* oln/makefile.src (OLN_DEP): Add convert/abstract/conversion.hh,
	convert/conversion.hh, convert/force.hh and morpho/gradient.hh.
	* Makefile.am (EXTRA_DIST): Add TODO.

2005-06-23  Roland Levillain  <roland@lrde.epita.fr>

	Add level::minus taking a conversion function.

	* oln/level/arith.hh
	(minus (const convert::abstract::conversion<C, B>&,
	const abstract::image<I1>&, const abstract::image<I2>& input2)):
	New.
	* tests/level/tests/arith_and_conversion: New test.

2005-06-23  Roland Levillain  <roland@lrde.epita.fr>

	Add conversion abstractions.

	* oln/convert/abstract/conversion.hh, oln/convert/conversion.hh:
	New files.

	Add convert::force operator.

	* oln/convert/force.hh: New file.
	* tests/convert/tests/force: New test.

	* oln/funobj/compose.hh (f_::identity_): New functor.
	* oln/core/apply.hh: Update doxygen comments.
	* TODO: New file.

2005-06-23  Christophe Berger  <christophe@lrde.epita.fr>

	* oln/appli/astro/graphical_interface/interface.pro: Modify
	interface appearance.
	* oln/appli/astro/graphical_interface/visualization_window.ui:
	Likewise.
	* oln/appli/astro/graphical_interface/filterinterface.hh: Likewise.

2005-06-22  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/funobj/infsup.hh: New file.
	* oln/morpho/local.hh: New file (replace stat.hh).
	* oln/makefile.src: Update.
	* oln/funobj/accum.hh (accum_with_init, accum): New object functions
	based on a function.
	* oln/core/abstract/niter.hh (nbh_): Change from POD to reference.
	* oln/core/pw/arith.hh (inf, sup): New procedures.
	* oln/core/pw/cmp.hh: Move operators into oln namespace to avoid
	ambiguities and rely on Koenig lookup.
	* oln/ops/arith.hh: Likewise.
	* oln/ops/cmp.hh: Likewise.
	* oln/core/gen/regular_fwd_niter.hh (ctor): Weaken signature to be more
	general; add argument static check.
	* oln/morpho/elementary_dilation.hh: Rewrite.
	* oln/morpho/tags.hh (inf_type, inf, sup_type, sup): New.
	* oln/morpho/elementary_erosion.hh: Rewrite.
	* oln/morpho/geodesic_dilation.hh: Rewrite.
	* oln/morpho/geodesic_erosion.hh: Rewrite.
	* oln/level/arith.hh (inf, sup): New procedures.
	* tests/morpho/tests/geodesic_erosion: Remove obsolete proc::.
	* tests/morpho/tests/geodesic_dilation: Likewise.

2005-06-22  Christophe Berger  <christophe@lrde.epita.fr>

	* oln/appli/astro/tree_coherance_checks.hh: Update doc.
	* oln/appli/astro/tree_statistics.hh: Add count of local root.
	* oln/appli/astro/graphical_interface/interface.pro: Qmake options
	to compile without -w -Wall.
	* oln/appli/astro/graphical_interface/visualization_window.ui: Add
	options in interface.
	* oln/appli/astro/graphical_interface/filterinterface.hh: Handle
	these options.

2005-06-22  Nicolas Widynski  <nicolas.widynski@lrde.epita.fr>

	* oln/canvas/maxtree.hh: Remove useless datas and vector of vector
	of root points.
	* oln/canvas/tree.hh: Likewise.
	* oln/appli/astro/clean.hh: Likewise.

2005-06-22  Nicolas Widynski  <nicolas.widynski@lrde.epita.fr>

	* oln/appli/astro/clean.hh: Remove queue, add methods.
	* oln/appli/astro/graphical_interface/filterinterface.hh: Adapt
	interface for this new version.
	* oln/canvas/maxtree.hh: Remove queue and vector of vector of root
	points.
	* oln/canvas/tree.hh: Likewise.

2005-06-19  Christophe Berger  <christophe@lrde.epita.fr>

	* oln/appli/astro/graphical_interface: New.
	* oln/appli/astro/graphical_interface/interface.pro: New.
	* oln/appli/astro/graphical_interface/image_viewer.hh: New.
	* oln/appli/astro/graphical_interface/visualization_window.ui: New.
	* oln/appli/astro/graphical_interface/filterinterface.hh: New.
	* oln/appli/astro/graphical_interface/main.cc: New.
	* oln/appli/astro/graphical_interface/qtincludes.hh: New.
	* oln/appli/astro/graphical_interface/Readme: New.
	* oln/appli/astro/graphical_interface/utils.hh: New.

2005-06-19  Christophe Berger  <christophe@lrde.epita.fr>

	* oln/appli/astro/tree_coherance_checks.hh: New.
	* oln/appli/astro/tree_statistics.hh: New.
	* oln/canvas/tree.hh: Put the vector of sorted points in public.
	This attribute is needed by checks and statistics functions.

2005-06-19  Nicolas Widynski  <nicolas.widynski@lrde.epita.fr>

	* oln/core/abstract/image.hh: Patch for adding method call.
	* oln/core/abstract/image_constness.hh: Add method call for
	readwrite images.
	* oln/core/abstract/image_with_data.hh: Likewise.
	* oln/core/2d/array2d.hh: Likewise.
	* oln/core/box.hh: Likewise.
	* oln/makefile.src: Add files.

2005-06-13  Damien Thivolle  <damien@lrde.epita.fr>

	* tests/check/Makefile.runtests: Modify compilation flags.

2005-06-09  Roland Levillain  <roland@lrde.epita.fr>

	Add composition of two unary functors.

	* oln/funobj/compose.hh: New file.
	* tests/funobj/tests/compose: New test.

2005-06-09  Roland Levillain  <roland@lrde.epita.fr>

	Add unary minus function object.

	* oln/funobj/arith.hh (f_::uminus_): New functor.
	(f_uminus): New.
	* tests/funobj/tests/arith: New test.
	* tests/funobj/Makefile.am: New file.

2005-06-09  Roland Levillain  <roland@lrde.epita.fr>

	Enforce tests on oln::io.

	* tests/io/loadsave.hh (compare): Check whether images have data.
	* tests/io/tests/2d: Aesthetic changes.
	* tests/check/Makefile.flags (AM_CPPFLAGS): Look in
	olena/tests/check before metalic/tests/check.

2005-06-07  Roland Levillain  <roland@lrde.epita.fr>

	Fix level::arith.

	* oln/level/arith.hh (oln/core/apply.hh): Include it.
	(f_plus): Rename as...
	(plus): ...this.
	(minus, times, div, mod): Fix the operators used in these functions.
	* tests/level/tests/arith: New test.

2005-06-07  Nicolas Widynski  <nicolas.widynski@lrde.epita.fr>

	* oln/morpho/tree.hh: Modifications.
	* oln/morpho/maxtree.hh: Likewise.
	* oln/morpho/clean_astro_images.hh: Likewise.

2005-06-04  Nicolas Widynski  <nicolas.widynski@lrde.epita.fr>

	* olena/oln/morpho/tree.hh: tree (canva).
	* olena/oln/morpho/maxtree.hh: creation of maxtree.
	* olena/oln/morpho/clean_astro_images.hh: maxtree utilisation's sample.

2005-05-23  Nicolas Widynski  <nicolas.widynski@lrde.epita.fr>

	* olena/oln/core/abstract/image_constness.hh: Add call to
	readwrite_image and read_only_image.
	* olena/oln/core/abstract/image_with_data.hh: Dispatch impl_call.
	* olena/oln/core/2d/array2d.hh: Real impl_call. Same thing must
	be done in 1d and 3d.
	* olena/oln/core/box.hh: Add call to box.
	* olena/oln/core/gen/internal/value_box.hh: Add call to value_box.

2005-05-30  Roland Levillain  <roland@lrde.epita.fr>

	Add shortest path watershed transform.

	* oln/morpho/shortest_path_watershed.hh: New file.
	* tests/morpho/tests/shortest_path_watershed: New test.

	* oln/core/gen/image_with_nbh.hh
	(image_with_nbh(const oln_type_of(I, size)&,
	const abstract::neighborhood<N>&)): New ctor.
	* oln/level/level_components.hh (level_components),
	* oln/morpho/lower_completion.hh (lower_completion): Use it.
	* oln/core/abstract/niter.hh (nbh): New method.
	* tests/core/tests/niter2d: New test.

	* oln/level/extrema_components.hh (extrema_components): Use
	unsigned to compute the level components.
	* oln/core/gen/internal/value_box.hh
	(operator>(const value_box<II>&), operator>(const V&)): New
	operators.
	* oln/makefile.src (OLN_DEP): Add level/extrema_components.hh,
	level/level_components.hh and morpho/shortest_path_watershed.hh.

2005-05-26  Roland Levillain  <roland@lrde.epita.fr>

	Fix morphological dilation and closing.

	* oln/morpho/dilation.hh (impl::dilation_): Fix dilation.
	Adjust copyright dates.
	* oln/morpho/closing.hh	(impl::closing_): Fix closing.
	Handle morpho kinds.
	Adjust copyright dates.
	* oln/morpho/erosion.hh, oln/morpho/opening.hh: Adjust copyright
	dates.

	* tests/morpho/tests/closing (check),
	* tests/morpho/tests/dilation (check),
	* tests/morpho/tests/erosion (check),
	* tests/morpho/tests/opening (check): Fix checksums.
	* tests/morpho/tests/lower_completion,
	* tests/level/tests/extrema_components: Include Olena
	headers using angle bracket syntax.

2005-05-25  Roland Levillain  <roland@lrde.epita.fr>

	Add (queue-based) level and extrema components computation.

	* oln/level/level_components.hh, oln/level/extrema_components.hh:
	New files.
	* tests/level/tests/extrema_components: New test.

	* oln/morpho/lower_completion.hh: Check that the input is a scalar
	image.
	* tests/morpho/tests/lower_completion: Don't include useless
	headers.

2005-05-24  Roland Levillain  <roland@lrde.epita.fr>

	Add lower completion.

	* oln/morpho/lower_completion.hh: New file
	* oln/makefile.src (OLN_DEP): Add morpho/lower_completion.hh.
	* olena/img/squares.pgm, olena/img/squares-lc.pgm: New images.
	* img/Makefile.am (SOURCE_IMGS): Add $(srcdir)/16x16.pbm,
	$(srcdir)/16x16.pbm.gz, $(srcdir)/16x16.pgm,
	$(srcdir)/16x16.pgm.gz, $(srcdir)/16x16.ppm,
	$(srcdir)/16x16.ppm.gz, $(srcdir)/marker.pbm, $(srcdir)/mask.pbm,
	$(srcdir)/object.pbm, $(srcdir)/squares-lc.pgm,
	$(srcdir)/squares.pgm:
	* tests/morpho/tests/lower_completion: New test.

2005-05-19  Damien Thivolle  <damien@lrde.epita.fr>

	* oln/makefile.src: Update.

2005-05-19  Roland Levillain  <roland@lrde.epita.fr>

	Re-enable I/O tests.

	* tests/io/loadsave.hh (loadsave): Really write and read images.

2005-05-18  Damien Thivolle  <damien@lrde.epita.fr>

	* oln/core/gen/regular_window.hh: Repair window splitting methods.
	* oln/morpho/reconstruction.hh: Add front end for self-dual
	reconstruction.
	* oln/morpho/reconstruction_by_dilation.hh: Make it compile.
	* oln/morpho/tags.hh: Add self-dual tag.
	* oln/morpho/reconstruction_selfdual.hh: New. Self-dual reconstruction
	implementation
	* oln/morpho/reconstruction_by_erosion.hh: Make it compile.
	* oln/morpho/stat.trash: Remove
	* oln/canvas/reconstruction.hh: Add a missing method in the sequential
	canvas. Minor fixes.

2005-05-17  Damien Thivolle  <damien@lrde.epita.fr>

	* tests/io/tests/2d: Add tests.
	* tests/io/loadsave.hh: Adapt to new iterators API.
	* oln/core/2d/image2d.hh: Restore I/O operator=.
	* oln/core/gen/regular_window.hh: Add missing `this->'.
	* oln/io/write_image_pnm.hh: New. Add a generic front end for pnm files
	writing.
	* oln/io/read_image_pnm.hh: New.  Add a generic front end for pnm files
	reading.
	* oln/io/write_image_2d_pnm.hh: Remove.
	* oln/io/gz_stream.hh: Restore file.
	* oln/io/write_image_pnm_2d.hh: New. Add 2D implementations for pnm
	output.
	* oln/io/read_image_2d_pnm.hh: Remove.
	* oln/io/write_image.hh: Adapt to changes that occured in the pnm front
	end.
	* oln/io/read_image_pnm_2d.hh: New. Add 2D implementations for pnm
	input.
	* oln/io/read_image.hh: Adapt to changes that occured in the pnm front
	end.
	* oln/io/write_image_pnm_decl.hh: New. Forward declarations.
	* oln/io/read_image_pnm_decl.hh: New. Forward declarations.
	* oln/io/utils.hh: Restore file.
	* oln/canvas/reconstruction.hh: Add use of oln::box.
	* oln/canvas/io.hh: Add canvas for 1D and 2D images.

2005-05-16  Roland Levillain  <roland@lrde.epita.fr>

	* oln/morpho/tags.hh (by_dilation, by_erosion)
	(sequential, hybrid, parallel, union-find): New facades.
	* tests/morpho/tests/reconstruction (check): Use them.
	* tests/morpho/tests/erosion (check): Catch up with current
	implementation of erosion.
	* tests/morpho/tests/dilation: Aesthetic changes.
	* tests/morpho/tests/elementary_dilation,
	* tests/morpho/tests/elementary_erosion: Likewise.
	Catch up with image_with_nbh definition.
	* tests/utils/tests/clone (check): Call oln::clone, not
	oln::utils::clone.

2005-05-16  Roland Levillain  <roland@lrde.epita.fr>

	* oln/ops/arith.hh (min, max): Add oln:: namespace qualifier to
	resolve the call to the right operator on PWF's.

2005-05-13  Roland Levillain  <roland@lrde.epita.fr>

	Add operator()'s on oln::image1d, oln::image2d and oln::image3d.

	* oln/core/abstract/image.hh
	(operator[](const point_type&) const): Return a value_box<const D>
	instead of a value_box<D>.
	(operator[](const point_type&)): Return a value_box<D> instead of
	a value_box<const D>.
	* oln/core/1d/image1d.hh (operator()(coord_t) const)
	(operator()(coord_t))
	* oln/core/2d/image2d.hh (operator()(coord_t, coord_t) const)
	(operator()(coord_t, coord_t))
	* oln/core/3d/image3d.hh
	(operator()(coord_t, coord_t, coord_t) const)
	(operator()(coord_t, coord_t, coord_t)): New operators.

	* oln/utils/clone.hh (clone): Adjust comment.
	* tests/arith: Remove directory.
	* tests/pw/tests/arith-value, tests/pw/tests/arith-image: New
	tests.
	* tests/level/tests/min, tests/level/tests/max: New
	tests (not yet working).

2005-05-12  Damien Thivolle  <damien@lrde.epita.fr>

	* oln/morpho/reconstruction.hh: Fix indentation.
	* oln/canvas/io.hh: New. New I/O canvas.

2005-05-12  Damien Thivolle  <damien@lrde.epita.fr>

	* oln/core/gen/regular_window.hh: Add splitting methods.
	* oln/morpho/reconstruction.hh: New. Add generic facade for the
	reconstruction.
	* oln/morpho/reconstruction_by_erosion.inctrash: Remove.
	* oln/morpho/reconstruction_by_dilation.hh: New. Return of the generic
	reconstructions by dilation.
	* oln/morpho/splitse.trash: Remove.
	* oln/morpho/reconstruction_by_erosion.hh: New. Return of the generic
	reconstructions by erosion.
	* oln/morpho/reconstruction_by_dilation.inctrash: Remove.
	* oln/canvas: New.
	* oln/canvas/reconstruction.hh: New. Add hybrid and sequential
	reconstruction canvas.
	* oln/canvas/backandforth.hh: New. Contains generic back and forth
	canvas: both classical and until_convergence versions.

2005-05-12  Christophe Berger  <christophe@lrde.epita.fr>

	* oln/core/pw/macros.hh: Fix bug.

2005-05-11  Roland Levillain  <roland@lrde.epita.fr>

	Fix tests of apply2, pw::apply and level::fill.

	* tests/core/tests/apply-binary (check): Adjust calls to
	oln::apply2.
	* olena/tests/pw/tests/apply: Rename as...
	* olena/tests/pw/tests/apply-unary: ...this.
	(check): s/p_lit/p_literal/.
	* olena/tests/pw/tests/apply-binary (check): Likewise.
	* tests/level/tests/fill (check): s/for_all/for_all_p/
	* oln/makefile.src (OLN_DEP): Remove arith/cmp.hh, arith/logic.hh,
	arith/max.hh, arith/min.hh, arith/ops.hh and funobj/meta.hh.
	Add level/arith.hh, level/logic.hh, ops/arith.hh, ops/cmp.hh and
	ops/logic.hh.

2005-05-02  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/core/ch_value_type.hh: Fix bug.
	* oln/core/gen/image_with_nbh.hh (ch_value_type): Add.

2005-05-01  Thierry Geraud  <theo@shuttle>

	* oln/arith/min.hh: Remove (obsolete).
	* oln/arith/max.hh: Likewise.
	* oln/arith/ops.hh: Move to...
	* oln/ops/arith.hh: ...this new file.
	* oln/arith/logic.hh: Move to...
	* oln/ops/logic.hh: ...this new file.
	* oln/arith/cmp.hh: Move to...
	* oln/ops/cmp.hh: ...this new file.
	* oln/morpho/geodesic_dilation.hh: Update.
	* oln/morpho/geodesic_erosion.hh: Likewise.
	* oln/funobj/abstract/binary.hh (binary_meta_result): Rename as...
	(mbinary_result): ...this.
	* oln/core/pw/binary_op.hh: Update.
	* oln/funobj/abstract/unary.hh (unary_meta_result): Rename as...
	(munary_result): ...this.
	* oln/core/pw/unary_op.hh: Update.
	* oln/core/abstract/image.hh: Include piter.hh.
	* oln/utils/clone.hh: Update. Do not use image_operator any more.
	* oln/core/apply.hh: Likewise.
	(apply, apply2): New routines to accept oln/funobj/*.
	* oln/core/ch_value_type.hh (oln_ch_concrete_type): New macro.
	* oln/level/arith.hh: New file.
	* oln/level/logic.hh: New file.

2005-05-01  Thierry Geraud  <theo@shuttle>

	* oln/funobj/abstract/binary.hh: New binary case when L and R are
	equal: T = L = R.
	(binary1_meta_result, mbinary1, binary1_meta): New types.
	* oln/funobj/meta.hh: Remove this dead file.
	* oln/funobj/arith.hh: Remove dead code.
	* oln/core/pw/binary_op.hh (set_props): Fix bug.
	(binary_op): Add the case F is f_::binary1_meta.
	* oln/core/pw/arith.hh (min, max): New routines.
	* oln/core/gen/internal/value_box.hh (min, max): Likewise.
	* oln/arith/ops.hh (min, max): Likewise.
	(oln_decl_binary_operator): Remove (dead code).

	* oln/morpho/elementary_dilation.hh: Add static test
	"I = binary_image => K = classical".
	* oln/morpho/elementary_erosion.hh: Likewise.
	* oln/morpho/dilation.hh: Likewise.
	* oln/morpho/erosion.hh: Likewise.
	* oln/morpho/geodesic_dilation.hh: Update.
	* oln/morpho/geodesic_erosion.hh: Likewise.

2005-04-30  Thierry Geraud  <theo@shuttle>

	* oln/convert/nbh_to_se.hh: Remove (meaningless).
	* olena/oln/core/abstract/image_typeness.hh
	(not_binary_image): New class.
	* olena/oln/makefile.src: Update.

2005-04-29  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Add some function objects.

	* oln/funobj/abstract/binary.hh: New file.
	* oln/funobj/abstract/unary.hh: Likewise.
	* oln/funobj/meta.hh: Likewise.
	* oln/funobj/arith.hh: Likewise.
	* oln/funobj/logic.hh: Likewise.
	* oln/funobj/cmp.hh: Likewise.
	* oln/core/typedefs.hh: Update with new typedef decls.

	Update of oln/core/pw/*

	* oln/core/pw/binary_op.hh: New file.
	* oln/core/pw/unary_op.hh: New file.
	* oln/core/pw/times.hh,
	* oln/core/pw/div.hh,
	* oln/core/pw/plus.hh,
	* oln/core/pw/minus.hh: Remove, replace by...
	* oln/core/pw/arith.hh: ...this new file.
	* oln/core/pw/image.hh (image_from_pw): Rename as...
	(image_from_pwf): ...this.
	(pw::image): Rename as...
	(pw::value): ...this.
	(p_value): Rename as...
	(pw_value): ...this.
	* oln/core/pw/image.hh: Move some parts into...
	* oln/core/pw/value.hh: ...this new file.
	* oln/core/pw/check.hh: ...and this new file.
	* oln/core/pw/macros.hh: Update.
	* oln/core/pw/abstract/function.hh (ensure): Add.
	(operator-, operator!): Comment because not updated yet.
	(~function): Use mlc_check_method_impl.
	* oln/core/pw/abstract/unary_function.hh (input): Rename as...
	(arg): ...this.
	(T): Rename as...
	(A): ...this.
	* oln/core/pw/apply.hh: Update.
	* oln/core/pw/literal.hh (p_lit): Rename as...
	(p_literal): ...this.
	* oln/core/pw/logic.hh: Update.
	* oln/core/pw/cmp.hh: Likewise.
	* oln/core/pw/all.hh: Likewise.
	* oln/arith/ops.hh: Likewise.
	* oln/arith/logic.hh: Likewise.
	* oln/arith/cmp.hh: New file.

	Fix morpho for geodesic_dilation to work.

	* oln/morpho/elementary_dilation.hh: New file.
	* oln/morpho/tags.hh (max_nbh, impl_max_nbh): New methods.
	* oln/funobj/accum.hh (max_accumulator_init): New fun obj.
	* oln/morpho/geodesic_dilation.hh
	(operator<=): Remove thanks to oln/arith/cmp.hh.
	* oln/morpho/geodesic_erosion.hh: Likewise.
	* oln/morpho/stat.hh (local_max_nbh): New routine.

2005-04-28  Nicolas Widynski  <widyns_n@ptaouchnok.lrde.epita.fr>

	* oln/morpho/geodesic_dilation.hh: New type of implementation,
	like geodesic_erosion.hh

2005-04-27  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/morpho/closing.hh: New-like file.
	* oln/morpho/dilation.hh: Likewise.
	* oln/morpho/elementary_erosion.hh: Likewise.
	* oln/morpho/erosion.hh: Likewise.
	* oln/morpho/geodesic_erosion.hh: Likewise.
	* oln/morpho/opening.hh: Likewise.
	* oln/morpho/stat.hh: Likewise.
	* oln/morpho/tags.hh: Likewise.

2005-04-27  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Files in oln/morpho move to 'trash' since inheritance in
	image operators will soon be no longer in use.

	* oln/morpho/*.hh: Rename as...
	* oln/morpho/*.trash: ...this.
	* oln/morpho/*.inc: Rename as...
	* oln/morpho/*.inctrash: ...this.
	* oln/convert/nbh_to_se.hh: Remove cause meaningless.

	The changes below are for safety purpose; we should ensure
	that some (now commented) features are no more in use.

	* oln/core/2d/image2d.hh (operator=(box)): Comment.
	(operator=(image_like_): Comment.
	(image2d(const image2d&)): Add decl to help compiler.
	* oln/core/box.hh (operator I): New.
	(operator=(box<II>): Comment.
	(operator=(image_like_<I>)): Comment.
	(operator=(image_like_<II>)): Comment.
	(operator=(image<II>)): Comment.
	* oln/utils/clone.hh: Update.

2005-04-27  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Prepare naming and tracing features to come.

	* oln/utils/record.hh: New file.
	* oln/core/2d/image2d.hh (operator=io): Update to not call io.
	* oln/core/abstract/image_constness.hh (set): Move method's body
	to...
	* oln/core/box.hh: ...here.
	* oln/core/abstract/image.hh (impl_hold_large): Change call to
	'impl_hold' to avoid counting a call to 'hold'.
	(hold, get): Move method's body to...
	* oln/core/box.hh: ...here.
	* oln/core/abstract/data_storage.hh (record): New include.
	(hold, get, set): Add call count.
	(set_data): Comment cause unused.
	* oln/core/abstract/image_with_data.hh (operator=): New
	operator so that we will control the naming process to come.
	* oln/core/abstract/image_by_delegation.hh
	(operator=): Likewise.
	* oln/core/2d/image2d.hh: New constructors with 'naming'.
	* oln/core/gen/image_with_nbh.hh: Likewise.
	(join): Add naming.
	* oln/core/abstract/images.hh: Remove because error-prone
	when included ---when 'watching' we need 'box' that depends
	on image hierarchies so including this intermediate file
	leads to partially defined class.
	* oln/core/abstract/image_entry.hh: Update file inclusion.
	* oln/basics.hh: Update.
	* oln/utils/md5.hh: Likewise.
	* oln/utils/clone.hh: Likewise.
	* oln/basics.hh: Likewise.
	* oln/morpho/stat.hh: Likewise.
	* oln/morpho/erosion.hh: Likewise.
	* oln/morpho/closing.hh: Likewise.
	* oln/morpho/opening.hh: Likewise.

2005-04-27  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	Files related to io should be re-written so they are temporary
	commented.

	* oln/io/gz_stream.hh: Comment contents.
	* oln/io/write_image_2d_pnm.hh: Likewise.
	* oln/io/write_image.hh: Likewise.
	* oln/io/read_image_2d_pnm.hh: Likewise.
	* oln/io/read_image.hh: Likewise.
	* oln/io/utils.hh: Likewise.
	* tests/io/loadsave.hh: Update.

2005-04-27  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/funobj/accum.hh (min_accumulator_init): New class.
	* oln/core/abstract/niter.hh (for_all_n_of_p): Fix bug.
	(set_type<image,I,niter_type>): New type deduction.
	(set_type<image,I,fwd_niter_type>): Likewise.
	(set_type<image,I,bkd_niter_type>): Likewise.
	* oln/core/abstract/neighborhood.hh
	(iter, fwd_iter, bkd_iter): New properties.
	* oln/core/gen/regular_neighborhood.hh: Update.
	* oln/core/abstract/window.hh (operator-): New.
	* oln/core/pw/image.hh (grid_type): New property.
	(concrete_type): Likewise.

2005-04-27  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/core/abstract/image_with_extension.hh (real): Fix
	signature ---such an image is mutable so 'real' should be
	const and should return non-const.
	* oln/core/gen/regular_fwd_niter.hh (friend): Fix bug.
	* oln/core/gen/regular_bkd_niter.hh: Likewise.
	* oln/core/gen/image_with_nbh.hh (concrete_type): Fix bug.
	(image_with_nbh()): New ctor.
	(image_with_nbh(size)): New ctor.
	(nbh_): Fix bug ---change type so that nbh is really owned.
	* oln/core/gen/regular_window.hh (operator-): Rename as...
	(impl_op_minus): ...this and fix bug.
	(dp): New method.

2005-04-20  Damien Thivolle  <damien@lrde.epita.fr>

	* oln/morpho/reconstruction.hh: Remove a comment.
	* oln/morpho/hit_or_miss.hh: New. Hit or miss implementation.
	* oln/arith/ops.hh: Add comment to make it compile with g++-3.4.
	* oln/arith/min.hh: Add a template parameter.
	* oln/arith/max.hh: Add a template parameter.

2005-04-17  Damien Thivolle  <damien@lrde.epita.fr>

	* oln/io/write_image_2d_pnm.hh (ntg::bin): Write padding bits at the
	end of each line.
	* oln/io/read_image_2d_pnm.hh (ntg::bin): Skip padding bits at the end
	of each	line.

2005-04-17  Damien Thivolle  <damien@lrde.epita.fr>

	* tests/morpho/tests/reconstruction: New.
	* oln/convert/nbh_to_se.hh: Adapt to new neighborhoods.
	* oln/core/abstract/image_neighbness.hh (impl_get_nbh): Add missing
	method.
	* oln/morpho/reconstruction.hh: New hierarchy.
	* oln/morpho/splitse.hh: Adapt to new neighborhoods.
	* oln/morpho/reconstruction_by_erosion.inc: New. Implementation for
	reconstruction by erosion.
	* oln/morpho/reconstruction_canvas.inc: New. Canvas for reconstruction:
	sequential & hybrid.
	* oln/morpho/reconstruction_by_dilation.inc: New. Implementation for
	reconstruction by dilation.
	* img/marker.pbm: New.
	* img/mask.pbm: New.

2005-04-16  Damien Thivolle  <damien@lrde.epita.fr>

	* tests/utils/tests/invert: New.
	* oln/funobj/invert.hh: Invert functor.
	* oln/core/abstract/image_by_delegation.hh (image): Add missing method.
	* oln/core/box.hh: Comment code that prevents from compiling with
	g++-3.4.
	* oln/core/pw/image.hh: Likewise.
	* oln/utils/invert.hh: Inverted images implentation.
	* oln/morpho/erosion.hh: Add a forward declaration to allow compilation
	with g++-3.4.

2005-04-15  Roland Levillain  <roland@lrde.epita.fr>

	* tests/morpho/tests/elementary_dilation: Typo.

2005-04-15  Roland Levillain  <roland@lrde.epita.fr>

	Add tests for elementary dilation/erosion.

	* tests/morpho/tests/elementary_dilation,
	* tests/morpho/tests/elementary_erosion: New tests.

2005-04-15  Roland Levillain  <roland@lrde.epita.fr>

	Repair geodesic erosion and dilation (cont.).

	* oln/morpho/geodesic_dilation.hh
	(morpho::proc::geodesic_dilation)
	* oln/morpho/geodesic_erosion.hh
	(morpho::proc::geodesic_erosion): Fix iterator definition, as well
	as min/max operation.
	* olena/tests/morpho/tests/closing
	* olena/tests/morpho/tests/erosion
	* olena/tests/morpho/tests/geodesic_dilation,
	* olena/tests/morpho/tests/geodesic_erosion,
	* olena/tests/morpho/tests/opening: Aesthetic changes.

2005-04-15  Roland Levillain  <roland@lrde.epita.fr>

	Add generic morphological opening and closing.
	Repair geodesic erosion and dilation.

	* oln/morpho/closing.hh, oln/morpho/opening.hh: New files.
	* oln/makefile.src (OLN_DEP): Add morpho/closing.hh and
	morpho/opening.hh.
	* tests/morpho/tests/closing, tests/morpho/tests/opening: New
	tests.
	* tests/core/tests/readwrite_image, tests/core/tests/setget:
	Update tests.

	* oln/morpho/geodesic_dilation.hh (impl_run): Fix access to window.
	* oln/morpho/geodesic_erosion.hh (impl_run): Likewise.
	Fix precondition.

	* oln/core/abstract/image_with_extension.hh
	(image_with_extension::image_with_extension): Remove const before
	reference of the first argument.
	* oln/core/gen/image_with_nbh.hh
	(image_with_nbh::image_with_nbh, join): Likewise.
	(nbh_): Make it non const.

2005-04-15  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/core/box.hh (operator=(box<II>)): Add impl.
	(operator=(image_like_<II>)): Likewise.
	* oln/core/abstract/image_like_.hh: Update.
	* oln/morpho/erosion.hh: Add FIXMEs.

2005-04-14  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/core/accum.hh: Rewrite and move...
	* oln/funobj/accum.hh: ...here.
	* tests/morpho/tests/geodesic_erosion: Add include.
	* tests/morpho/tests/geodesic_dilation: Likewise.
	* tests/morpho/tests/erosion: Fix bug.
	* oln/core/typedefs.hh: Add decls for iterators.
	* oln/core/abstract/image.hh (grid_type): New property.
	* oln/core/1d/image1d.hh: Update.
	* oln/core/2d/image2d.hh: Likewise.
	* oln/core/3d/image3d.hh: Likewise.
	* oln/core/abstract/qiter.hh: Fix bug.
	* oln/core/abstract/image_like_.hh (real const): Remove 'const' in
	return since an image-like behaves as a mutable.
	(real): Remove.
	(box<I>): Add operator= for image_like_.
	* oln/core/2d/window2d.hh (win_hline2d, win_vline2d): New types.
	* oln/core/box.hh: Clean up and add new methods.
	* oln/core/gen/regular_fwd_qiter.hh: Fix ctor signature.
	* oln/core/gen/regular_bkd_qiter.hh: Likewise.
	* oln/core/gen/regular_qiter.hh: Likewise.
	* oln/core/gen/regular_window.hh: Add includes.
	* oln/makefile.src: Update.
	* oln/morpho/stat.hh: Update.
	* oln/morpho/erosion.hh:

2005-04-14  Roland Levillain  <roland@lrde.epita.fr>

	Add unary point-wise function (PWF).
	Use it to simplify unary apply on PWF.

	* oln/core/pw/abstract/unary_function.hh: New file.
	* oln/core/pw/apply.hh: Use it to rewrite pw::apply.
	(apply): Inherit from pw::abstract::unary_function.
	Rename as ...
	(apply1): ...this.
	(apply1::input_): Remove attribute.
	(apply1::apply1): Adjust ctor.
	(apply1::impl_get): Adjust method.
	(apply1::impl_size, apply1::impl_hold, apply1::impl_hold_large):
	Remove methods.
	* oln/makefile.src (OLN_DEP): Add
	core/pw/abstract/unary_function.hh.

2005-04-14  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/core/typedefs.hh (oln_super_of): New macro.
	* oln/core/abstract/image_operator.hh (set_props): Declare
	output_type.
	* oln/core/1d/qiter1d.hh: Remove typedefs.
	* oln/core/2d/qiter2d.hh: Likewise.
	* oln/core/3d/qiter3d.hh: Likewise.
	* oln/core/1d/window1d.hh: Use inheritance.
	* oln/core/2d/window2d.hh: Likewise.
	(win_rectangle2d): New class.
	* oln/core/3d/window3d.hh: Likewise.
	* oln/core/any/dpoint.hh (operator+): Move to...
	* oln/core/any/point.hh: ...here.
	* oln/core/gen/regular_fwd_qiter.hh: Add parameter W.
	* oln/core/gen/regular_bkd_qiter.hh: Likewise.
	* oln/core/gen/regular_qiter.hh: Update.
	* oln/core/gen/regular_window.hh: Update.
	* oln/core/gen/regular_neighborhood.hh: Update.
	* oln/morpho/stat.hh (stat_): Remove.
	* oln/morpho/erosion.hh: Update.

2005-04-14  Roland Levillain  <roland@lrde.epita.fr>

	Add binary apply on point-wise functions.

	* oln/core/pw/apply.hh (apply2): New class.
	(p_apply): New helper for binary point-wise apply.
	* tests/pw/tests/apply-binary: New test.
	* oln/core/abstract/size.hh (oln_size_type_from_2): Adjust macro
	to new Metalic logic system.
	* oln/core/pw/abstract/binary_function.hh
	(binary_function_helper < any_size, any_size >): New
	specialization.

	* oln/core/any/point.hh (impl_plus, impl_minus, impl_nth):
	Implement (as dummies).
	* oln/core/any/grid.hh (any_coord): Define this type.
	* oln/core/any/dpoint.hh: Aesthetic changes.

	* oln/makefile.src (OLN_DEP): Remove
	core/abstract/regular_niter.hh, core/3d/fwd_niter3d.hh and
	core/3d/fwd_qiter3d.hh.

2005-04-14  Roland Levillain  <roland@lrde.epita.fr>

	Fix remaining tests in tests/core.

	* tests/core/tests/readwrite_image, tests/core/tests/setget
	(set_props <category::image, dummy_image>): Add missing
	properties.

2005-04-14  Roland Levillain  <roland@lrde.epita.fr>

	Fix core/image_valuedness test.

	* tests/core/tests/image_vectorialness: Rename file as...
	* tests/core/tests/image_valuedness: ...this.
	Catch up with the new oln/abstract/image_valuedness.hh, and
	augment the test case.

2005-04-14  Roland Levillain  <roland@lrde.epita.fr>

	Fix core/fwd_qiter2d test.

	* tests/core/tests/fwd_witer2d: Rename file as...
	* tests/core/tests/fwd_qiter2d: ...this.
	Adjust to the new interface of q-iterators.
	* oln/core/gen/regular_fwd_qiter.hh (abstract::qiter<self_type>):
	Make it a friend.
	(impl_invalidate): Explicitely cast to avoid comparisons between
	signed and unsigned values.
	* oln/core/gen/regular_qiter.hh (abstract::qiter<E>): Make it a
	friend.

2005-04-14  Roland Levillain  <roland@lrde.epita.fr>

	Fix some 1D and 3D classes and have more tests pass.

	* oln/basics1d.hh (oln/core/1d/fwd_piter1d.hh)
	(oln/core/1d/bkd_piter1d.hh): Include them.
	* oln/core/1d/image1d.hh (bkd_piter_type) New typedef.
	* oln/core/1d/array1d.hh: Do not set exact_ptr, since this class
	not longer inherits from mlc::any__best_speed, but from mlc::any.
	* oln/core/1d/array1d.hh (alloc_and_init): New function.
	(resize, impl_clear_data): Handle the border.
	(size): Rename method as...
	(impl_size): ...this.
	(~array1d): Call clear_data() instead of impl_clear_data().
	(impl_resize_border): New method.

	* oln/core/2d/array2d.hh (alloc_and_init): Remove useless
	assignment.
	(~array2d): Call clear_data() instead of impl_clear_data().

	* oln/basics3d.hh (oln/core/3d/fwd_piter3d.hh)
	* oln/core/3d/image3d.hh (bkd_piter_type) New typedef.
	* oln/core/3d/array3d.hh: Do not set exact_ptr, since this class
	(oln/core/3d/bkd_piter3d.hh): Include them.
	not longer inherits from mlc::any__best_speed, but from mlc::any.
	(size): Rename method as...
	(impl_size): ...this.
	(~array3d): Call clear_data() instead of impl_clear_data().
	(impl_resize): Move allocation code...
	(alloc_and_init): ...here (new function).
	(impl_resize_border): New method.

	* tests/core/tests/readwrite_image: Catch up with the new property
	system.
	* tests/core/tests/piter1d (check): Test bkd_piter1d too.
	* tests/core/tests/piter3d (check): Test bkd_piter3d too.

2005-04-14  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/core/abstract/niter.hh (start): Rename as...
	(start_): ...this.
	(center_at): Add invalidate call.
	* oln/core/abstract/iter.hh (start): Move to...
	* oln/core/abstract/piter.hh (start): ...here.
	* oln/core/abstract/qiter.hh: ...and here.
	* oln/core/apply.hh: Update.
	* oln/core/pw/image.hh: Likewise.
	* oln/core/gen/regular_fwd_niter.hh: Likewise.
	* oln/core/gen/regular_bkd_niter.hh: Likewise.
	* oln/core/gen/regular_fwd_qiter.hh: Likewise.
	* oln/core/gen/regular_bkd_qiter.hh: Likewise.
	* oln/utils/md5.hxx: Likewise.
	* oln/utils/clone.hh: Likewise.
	* oln/fancy/iota.hh: Likewise.
	* oln/morpho/reconstruction.hh: Likewise.
	* oln/morpho/dilation.hh: Likewise.
	* oln/morpho/splitse.hh: Likewise.
	* oln/morpho/geodesic_dilation.hh: Likewise.
	* oln/morpho/stat.hh: Likewise.
	* oln/morpho/erosion.hh: Likewise.
	* oln/morpho/geodesic_erosion.hh: Likewise.
	* oln/level/fill.hh: Likewise.
	* oln/level/compare.hh: Likewise.
	* oln/arith/min.hh: Likewise.
	* oln/arith/max.hh: Likewise.

2005-04-14  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/core/2d/fwd_niter2d.hh: Remove (obsolete; replaced by
	niter2d.hh).
	* oln/core/1d/niter1d.hh: New file.
	* oln/core/1d/bkd_piter1d.hh: New file.
	* oln/core/1d/qiter1d.hh: New file.
	* oln/core/1d/neighborhood1d.hh: New file.
	* oln/core/2d/niter2d.hh: New file.
	* oln/core/2d/qiter2d.hh: New file.
	* oln/core/3d/niter3d.hh: New file.
	* oln/core/3d/bkd_piter3d.hh: New file.
	* oln/core/3d/qiter3d.hh: New file.
	* oln/core/3d/neighborhood3d.hh: New file.
	* oln/core/gen/regular_bkd_niter.hh: New file.
	* oln/core/gen/regular_bkd_qiter.hh: New file.
	* oln/core/gen/regular_qiter.hh: New file.
	* oln/core/gen/regular_neighborhood.hh: New file.
	* oln/makefile.src: Update.
	* oln/basics1d.hh: Add includes.
	* oln/basics2d.hh: Likewise.
	* oln/basics3d.hh: Likewise.
	* oln/core/typedefs.hh: Add typedef decls.
	* oln/core/abstract/niter.hh (start_at_p): New method.
	(nbh_): Remove reference in type.
	* oln/core/abstract/qiter.hh (for_all_q): Rename as...
	(for_all_q_of_p): ...this.
	(grid_type): New property.
	(qiter): Rewrite.
	* oln/core/abstract/point.hh (fwd_less, bkd_less): New methods.
	* oln/core/abstract/dpoint.hh (fwd_less, bkd_less): New methods.
	(dim): New method.
	(operator!=, operator-): New operators.
	(fwd_less_dpoint): New function object type.
	* oln/core/abstract/neighborhood.hh: Rewrite.
	* oln/core/abstract/window.hh (grid_type): New property.
	(fwd_qiter_type): Rename as...
	(fwd_iter_type): ...this.
	(qiter.hh): New include.
	* oln/core/1d/dpoint1d.hh: Update.
	* oln/core/1d/image1d.hh: Likewise.
	* oln/core/1d/window1d.hh: Likewise.
	* oln/core/1d/point1d.hh: Likewise.
	* oln/core/2d/dpoint2d.hh: Likewise.
	* oln/core/2d/image2d.hh: Likewise.
	* oln/core/2d/window2d.hh: Likewise.
	* oln/core/2d/neighborhood2d.hh: Likewise.
	* oln/core/2d/point2d.hh: Likewise.
	* oln/core/3d/dpoint3d.hh: Likewise.
	* oln/core/3d/image3d.hh: Likewise.
	* oln/core/3d/window3d.hh: Likewise.
	* oln/core/3d/point3d.hh: Likewise.
	* oln/core/any/grid.hh: Likewise.
	* oln/core/any/point.hh: Likewise.
	* oln/core/any/dpoint.hh: Likewise.
	* oln/core/gen/regular_niter.hh: Likewise.
	* oln/core/gen/regular_fwd_niter.hh: Likewise.
	* oln/core/gen/regular_fwd_qiter.hh: Likewise.
	* oln/core/gen/regular_window.hh: Likewise.
	* oln/morpho/cc_tarjan.hh: Likewise.
	* oln/morpho/stat.hh: Likewise.
	* oln/morpho/geodesic_dilation.hh: Likewise.
	* oln/morpho/geodesic_erosion.hh: Add file and update.

2005-04-13  Christophe Berger  <christophe@lrde.epita.fr>

	* oln/morpho/geodesic_dilation.hh: New. Safe implementation.
	* tests/morpho/tests/geodesic_dilation: New. Corresponding test.
	* oln/morpho/geodesic_erosion.hh: New. Safe implementation.
	* tests/morpho/tests/geodesic_erosion: New. Corresponding test.

2005-04-13  Damien Thivolle  <damien@lrde.epita.fr>

	* tests/morpho/tests/dilation: Perform tests on small images.
	* tests/morpho/tests/erosion: Perform tests on small images.
	* tests/level/runs: Remove.
	* tests/io/tests/2d: Perform tests on small images.
	* tests/check/Makefile.flags: Remove optimization flags.
	* img/16x16.ppm: New.
	* img/16x16.pbm.gz: New.
	* img/16x16.pgm.gz: New.
	* img/16x16.ppm.gz: New.
	* img/16x16.pbm: New.
	* img/16x16.pgm: New.

2005-04-13  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/core/typedefs.hh: New include.
	* oln/core/abstract/niter.hh: Add static checks of properties and
	impls.
	* oln/core/abstract/image_constness.hh (set): Change signature.
	* oln/core/abstract/image.hh: Likewise.
	* oln/core/abstract/piter.hh: Likewise.
	* oln/core/abstract/qiter.hh: Likewise.
	* oln/core/abstract/image_neighbness.hh: Likewise.
	* oln/core/abstract/point.hh: Likewise.
	(~point): Remove obsolete static checks.
	* oln/core/abstract/data_storage.hh: Likewise.
	* oln/core/abstract/iter.hh: Likewise.
	(~iter): Remove obsolete static checks.
	* oln/core/abstract/neighborhood.hh: Likewise.
	(name): Remove.
	* oln/core/abstract/window.hh: Likewise.
	* oln/core/abstract/size.hh: Likewise.
	* oln/core/abstract/dpoint.hh: Likewise.
	(operator==, operator!=): Change signature.
	* oln/core/1d/dpoint1d.hh: Likewise.
	* oln/core/2d/dpoint2d.hh: Likewise.
	* oln/core/3d/dpoint3d.hh: Likewise.
	* oln/core/abstract/grid.hh: Likewise.
	(dpoint_type, size_type): New properties.
	* oln/core/1d/grid1d.hh: Likewise.
	* oln/core/2d/grid2d.hh: Likewise.
	* oln/core/3d/grid3d.hh: Likewise.
	* oln/core/any/dpoint.hh: Likewise.
	* oln/core/gen/regular_window.hh (size_type): Update.
	* oln/morpho/dilation.hh: Fix macro.
	* oln/morpho/erosion.hh: Likewise.

2005-04-13  Roland Levillain  <roland@lrde.epita.fr>

	Fix oln::apply.

	* oln/core/apply.hh (apply1_type::impl_run)
	(apply2_type::impl_run): Catch up with the new image_operator
	definition.
	* tests/core/tests/apply-unary, tests/core/tests/apply-binary: Fix
	tests.
	Conform to Olena coding standard.

2005-04-13  Roland Levillain  <roland@lrde.epita.fr>

	Add apply on point-wise functions.

	* oln/core/pw/apply.hh: New file.
	* tests/pw/Makefile.am: New file.
	* tests/pw/tests/apply: New test.

	* oln/core/any/grid.hh: New file.
	* oln/core/any/point.hh: Conform to abstract::point constraints.
	* oln/makefile.src (OLN_DEP): Add core/any/grid.hh and
	core/pw/apply.hh.

2005-04-13  Roland Levillain  <roland@lrde.epita.fr>

	Repair the I/O routines.

	* oln/io/read_image_2d_pnm.hh: Use output_ instead of image_.
	(output): Remove method.
	(read): Use the semantics of real image operator: return a
	read_image_2d_raw instead of an image.
	* oln/io/read_image.hh: Adjust.
	* oln/io/write_image_2d_pnm.hh (impl_run): Rename as...
	(run): ...this.
	* oln/core/2d/array2d.hh: Do not set exact_ptr, since this class
	not longer inherits from mlc::any__best_speed, but from mlc::any.


	Please G++ and clean up.

	* oln/core/abstract/qiter.hh (set_default_props): Add template <>
	qualifier.
	* oln/core/any/point.hh (operator<<): Do not name the second
	argument.
	* oln/core/any/dpoint.hh (operator<<): Likewise.
	* oln/core/2d/point2d.hh (super_type): New typedef.
	Explicitely call the super type ctor in ctors.
	* oln/core/2d/dpoint2d.hh Likewise.
	* oln/core/2d/size2d.hh: Likewise.
	* oln/makefile.src (OLN_DEP): Remove core/2d/fwd_qiter2d.hh.

2005-04-12  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/core/abstract/regular_niter.hh: Move to...
	* oln/core/gen/regular_niter.hh: ...this.
	* oln/core/2d/fwd_regular_niter2d.hh: Split into...
	* oln/core/gen/regular_fwd_niter.hh: ...this.
	* oln/core/2d/fwd_niter2d.hh: ...and this.
	* oln/core/2d/fwd_qiter2d.hh: New file.
	* oln/core/gen/regular_window.hh: New file.
	* oln/core/gen/regular_fwd_qiter.hh: New file.
	* oln/core/abstract/grid.hh: New file.
	* oln/core/abstract/iter.hh: New file.
	* oln/core/1d/grid1d.hh: New file.
	* oln/core/1d/window1d.hh: New file.
	* oln/core/2d/grid2d.hh: New file.
	* oln/core/3d/grid3d.hh: New file.
	* oln/core/3d/window3d.hh: New file.
	* oln/convert/value_to_point.hh: Update:
	* oln/basics1d.hh: Likewise.
	* oln/core/typedefs.hh: Likewise.
	* oln/core/abstract/niter.hh: Likewise.
	* oln/core/abstract/piter.hh: Likewise.
	* oln/core/abstract/qiter.hh: Likewise.
	* oln/core/abstract/image_neighbness.hh: Likewise.
	* oln/core/abstract/point.hh: Likewise.
	* oln/core/abstract/dpoint.hh: Likewise.
	* oln/core/abstract/window.hh: Likewise.
	* oln/core/abstract/internal/image_impl.hh: Likewise.
	* oln/core/1d/dpoint1d.hh: Likewise.
	* oln/core/1d/fwd_piter1d.hh: Likewise.
	* oln/core/1d/point1d.hh: Likewise.
	* oln/core/2d/dpoint2d.hh: Likewise.
	* oln/core/2d/image2d.hh: Likewise.
	* oln/core/2d/fwd_piter2d.hh: Likewise.
	* oln/core/2d/bkd_piter2d.hh: Likewise.
	* oln/core/2d/window2d.hh: Likewise.
	* oln/core/2d/neighborhood2d.hh: Likewise.
	* oln/core/2d/point2d.hh: Likewise.
	* oln/core/accum.hh: Likewise.
	* oln/core/pw/image.hh: Likewise.
	* oln/core/pw/abstract/binary_function.hh: Likewise.
	* oln/core/3d/dpoint3d.hh: Likewise.
	* oln/core/3d/fwd_piter3d.hh: Likewise.
	* oln/core/3d/point3d.hh: Likewise.
	* oln/basics2d.hh: Likewise.
	* oln/basics3d.hh: Likewise.
	* oln/basics.hh: Likewise.
	* oln/makefile.src: Likewise.
	* oln/io/write_image_2d_pnm.hh: Likewise.
	* oln/io/read_image_2d_pnm.hh: Likewise.
	* oln/arith/ops.hh: Likewise.
	* oln/arith/logic.hh: Likewise.

2005-04-11  Roland Levillain  <roland@lrde.epita.fr>

	* tests/sanity/check.in: New file.
	* tests/sanity/Makefile.am (EXTRA_DIST): Add check.in.

2005-04-11  Roland Levillain  <roland@lrde.epita.fr>

	Update the test machinery.

	* tests/sanity/includes.test: Ignore files whose path contains an
	`internal' subdirectory.
	* oln/makefile.src (OLN_DEP): Add core/abstract/image_entry.hh,
	core/abstract/qiter.hh and core/typedefs.hh.

2005-04-11  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/core/value_box.hh: Move to...
	* oln/core/gen/internal/value_box.hh: ...this.
	* oln/core/abstract/struct_elt.hh: Rename as...
	* oln/core/abstract/window.hh: ...this.
	* oln/core/abstract/op.hh: Remove.
	* oln/core/abstract/image.hh: Update.
	* oln/core/abstract/piter.hh: Likewise.
	* oln/core/abstract/qiter.hh: Likewise.
	* oln/core/abstract/image_operator.hh: Likewise.
	* oln/basics.hh: Likewise.
	* oln/makefile.src: Likewise.
	* oln/morpho/dilation.hh: Likewise.
	* oln/morpho/splitse.hh: Likewise.
	* oln/morpho/stat.hh: Likewise.
	* oln/morpho/erosion.hh: Likewise.

2005-04-11  Thierry Geraud  <theo@shuttle>

	Update files with a 2nd version of property system.

	* oln/convert/nbh_to_se.hh: Update.
	* oln/basics2d.hh: Likewise.
	* oln/core/value_box.hh: Likewise.
	* oln/core/apply.hh: Likewise.
	* oln/core/ch_value_type.hh: Likewise.
	* oln/core/box.hh: Likewise.
	* oln/core/pw/times.hh: Likewise.
	* oln/core/pw/image.hh: Likewise.
	* oln/core/pw/div.hh: Likewise.
	* oln/core/pw/plus.hh: Likewise.
	* oln/core/pw/macros.hh: Likewise.
	* oln/core/pw/abstract/function.hh: Likewise.
	* oln/core/pw/abstract/binary_function.hh: Likewise.
	* oln/core/pw/minus.hh: Likewise.
	* oln/core/pw/literal.hh: Likewise.
	* oln/core/pw/logic.hh: Likewise.
	* oln/core/pw/cmp.hh: Likewise.
	* oln/core/any/point.hh: Likewise.
	* oln/core/abstract/niter.hh: Likewise.
	* oln/core/abstract/image.hh: Likewise.
	* oln/core/abstract/piter.hh: Likewise.
	* oln/core/abstract/image_like_.hh: Likewise.
	* oln/core/abstract/point.hh: Likewise.
	* oln/core/abstract/image_operator.hh: Likewise.
	* oln/core/abstract/data_storage.hh: Likewise.
	* oln/core/abstract/dpoint.hh: Likewise.
	* oln/core/abstract/regular_niter.hh: Likewise.
	* oln/core/abstract/images.hh: Likewise.
	* oln/core/abstract/image_with_data.hh: Likewise.
	* oln/core/abstract/neighborhood.hh: Likewise.
	* oln/core/abstract/image_by_delegation.hh: Likewise.
	* oln/core/abstract/image_with_extension.hh: Likewise.
	* oln/core/abstract/size.hh: Likewise.
	* oln/core/abstract/internal/image_impl.hh: Likewise.
	* oln/core/1d/dpoint1d.hh: Likewise.
	* oln/core/1d/array1d.hh: Likewise.
	* oln/core/1d/image1d.hh: Likewise.
	* oln/core/1d/fwd_piter1d.hh: Likewise.
	* oln/core/1d/point1d.hh: Likewise.
	* oln/core/1d/size1d.hh: Likewise.
	* oln/core/2d/dpoint2d.hh: Likewise.
	* oln/core/2d/array2d.hh: Likewise.
	* oln/core/2d/image2d.hh: Likewise.
	* oln/core/2d/fwd_regular_niter2d.hh: Likewise.
	* oln/core/2d/bkd_piter2d.hh: Likewise.
	* oln/core/2d/fwd_piter2d.hh: Likewise.
	* oln/core/2d/neighborhood2d.hh: Likewise.
	* oln/core/2d/window2d.hh: Likewise.
	* oln/core/2d/point2d.hh: Likewise.
	* oln/core/2d/size2d.hh: Likewise.
	* oln/core/3d/array3d.hh: Likewise.
	* oln/core/3d/image3d.hh: Likewise.
	* oln/core/3d/fwd_piter3d.hh: Likewise.
	* oln/core/3d/point3d.hh: Likewise.
	* oln/core/gen/image_with_nbh.hh: Likewise.
	* oln/basics.hh: Likewise.
	* oln/morpho/reconstruction.hh: Likewise.
	* oln/morpho/splitse.hh: Likewise.
	* oln/morpho/stat.hh: Likewise.
	* oln/arith/ops.hh: Likewise.
	* oln/arith/min.hh: Likewise.
	* oln/arith/max.hh: Likewise.
	* oln/io/read_image.hh: Likewise.
	* oln/core/abstract/witer.hh: Update and rename as...
	* oln/core/abstract/qiter.hh: ...this.
	* oln/core/abstract/entry.hh: Update and rename as...
	* oln/core/abstract/image_entry.hh: ...this.
	* oln/core/2d/fwd_witer2d.hh: Update and rename as...
	* oln/core/2d/fwd_qiter2d.hh: ...this.
	* oln/core/properties.hh: Update and rename as...
	* oln/core/typedefs.hh: ...this.

2005-04-08  Damien Thivolle  <damien@lrde.epita.fr>

	* oln/morpho/reconstruction.hh: Improve factorization.

2005-04-08  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/core/pw/logic.hh: Fix include.
	* oln/core/pw/cmp.hh: Cosmetic change.
	* oln/utils/md5.hh: Conform to image_valuedness.
	* oln/utils/md5.hxx: Likewise.
	* oln/morpho/reconstruction.hh: Likewise.
	* oln/arith/min.hh: Likewise.
	* oln/arith/max.hh: Likewise.

2005-04-08  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/core/pw/logic.hh: New file.
	* oln/core/abstract/image_valuedness.hh: New file.
	* oln/core/abstract/image_vectorialness.hh: Remove.
	* oln/core/abstract/image_typeness.hh: New file.
	* oln/arith/logic.hh: New file.
	* oln/core/pw/image.hh (image_vectorialness_type): Remove.
	(for_all_p): Update.
	* oln/core/pw/macros.hh (oln_pw_cmp_operator): New macro.
	(oln_pw_cmp_operators): New macro.
	* oln/core/pw/abstract/function.hh (operator!): New method.
	* oln/core/pw/all.hh (oln/core/pw/logic.hh): New include.
	* oln/core/pw/minus.hh: Cosmetic change.
	* oln/core/pw/cmp.hh: Derive from pw::abstract::binary_function.
	* oln/core/pw/logic.hh: New file.
	* oln/core/properties.hh (image_typeness_type): New target.
	(image_valuedness_type): Likewise.
	(dummy_type): New target for temporary dummy tests.
	* oln/core/abstract/image_constness.hh: Fix include.
	* oln/core/abstract/image_neighbness.hh: Likewise.
	* oln/core/abstract/image.hh (image_vectorialness_type): Remove.
	* oln/core/abstract/image_operator.hh (abstract::image_operator):
	New props and set_type_of for temporary dummy tests.
	* oln/core/abstract/entry.hh (typeness::inheritance_switch): New
	inheritance.
	(valuedness::inheritance_switch): Likewise.
	* oln/core/abstract/images.hh: Update.
	* oln/core/abstract/image_with_data.hh: Cosmetic change.
	* oln/core/1d/image1d.hh (image_vectorialness_type): Remove.
	* oln/core/2d/image2d.hh: Likewise.
	* oln/core/3d/image3d.hh: Likewise.
	* oln/makefile.src: Update.
	* oln/morpho/stat.hh (min, max): Change sig.
	* oln/morpho/erosion.hh (morpho::impl::generic_erosion): Add
	code for temporary dummy tests.
	* oln/arith/ops.hh (operator+): Add erroneous overloading.

2005-04-06  Nicolas Widynski  <nicolas.widynski@lrde.epita.fr>

	* oln/core/abstract/niter.hh: New. Abstract neighborhood iterator
	class.
	* oln/core/abstract/regular_niter.hh: New. Abstract neighborhood
	iterator for windows.
	* oln/core/2d/fwd_regular_niter2d.hh: New. Concrete 2d
	neighborhood class

2005-04-06  Nicolas Widynski  <nicolas.widynski@lrde.epita.fr>

	* oln/core/properties.hh: Change properties for neighborhood
	hierarchy.
	* oln/core/abstract/image.hh: Add neigbh_type property.
	* oln/core/abstract/image_neighbness.hh: New. Add neighborhood
	hierarchy.
	* oln/core/abstract/entry.hh: Add image_neighbness into hierarchy.
	* oln/core/abstract/image_with_extension.hh: New. Add image with
	extension hierarchy.
	* oln/core/gen/image_with_nbh.hh: New. Concrete image and
	neighborhood class.

2005-04-06  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/core/value_box.hh: Fix.

2005-04-06  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/core/abstract/image_vectorialness.hh: Conform to mlc.

2005-04-06  Roland Levillain  <roland@lrde.epita.fr>

	Introduce oln::apply for binary functions.
	Use mlc::abstract::unary_function and
	mlc::abstract::binary_function to enforce onstraints on signatures
	of applied functions.

	* oln/core/apply.hh: s/apply_type/apply1_type/g.
	(apply (const abstract::image<I>&)): Remove functions.
	(apply2_type): New class.
	(apply(const mlc::abstract::binary_function<F>&,
	const abstract::image<I>&, const abstract::image<I>&)): New
	function.
	* tests/core/tests/apply: Adjust tests.
	Rename as...
	* tests/core/tests/apply-unary: ...this.
	* tests/core/tests/apply-binary: New test.

2005-04-06  Damien Thivolle  <damien@lrde.epita.fr>

	* oln/convert/ng_to_se.hh: Remove.
	* oln/convert/nbh_to_se.hh: New.
	* oln/core/abstract/internal/image_impl.hh: Add missing inclusion.
	* oln/makefile.src: Commit name change for ng_to_se.hh.
	* oln/morpho/reconstruction.hh: Factor code.
	* oln/morpho/cc_tarjan.hh: Conform to mlc macros.
	* oln/arith/min.hh: Conform to image_operator.
	* oln/arith/max.hh: Conform to image_operator.

2005-04-05  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/core/pw/image.hh: Conform to mlc macros.
	* oln/core/abstract/image_vectorialness.hh: Likewise.
	* oln/core/abstract/point.hh: Likewise.
	* oln/core/abstract/size.hh: Likewise.
	* oln/basics2d.hh: Likewise.
	* oln/morpho/reconstruction.hh: Likewise.
	* oln/morpho/dilation.hh: Likewise.
	* oln/morpho/stat.hh: Likewise.
	* oln/morpho/erosion.hh: Likewise.

2005-04-05  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/core/abstract/point.hh: Conform to mlc macros.
	* oln/core/abstract/size.hh: Likewise.

2005-04-05  Roland Levillain  <roland@lrde.epita.fr>

	More oln::apply (for Adaptable Unary Functions).

	* oln/core/apply.hh: Pass the Adaptable Unary Functions by value
	(copy), not by (const) reference.
	(apply (AdaptableUnaryFun, const abstract::image<I>&)):	Document.
	(apply (const abstract::image<I>&)): New functions.
	* tests/core/tests/apply: Test them.

2005-04-04  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/core/pw/abstract/binary_function.hh: Likewise.
	* oln/arith/ops.hh: Likewise.
	* oln/core/pw/times.hh: Handle better point_type and size_type.
	* oln/core/pw/div.hh: Likewise.
	* oln/core/pw/plus.hh: Likewise.
	* oln/core/pw/minus.hh: Likewise.
	* oln/core/pw/image.hh: Cosmetic change.
	* oln/core/pw/abstract/function.hh: Move macros to...
	* oln/core/pw/macros.hh: ... this new file.
	* oln/core/pw/literal.hh: Likewise.
	* oln/core/any/dpoint.hh: Add fwd decls.
	* oln/core/abstract/point.hh
	(oln_point_type_from_2): New macro.
	(nth): New method.
	* oln/core/abstract/witer.hh: Add include to pass sanity check.
	* oln/core/abstract/dpoint.hh: Likewise.
	* oln/core/abstract/size.hh
	(oln_size_type_from_2): New macro.
	* oln/core/1d/dpoint1d.hh: Add inheritance.
	(impl_nth): New method.
	* oln/core/2d/dpoint2d.hh: Likewise.
	* oln/core/3d/dpoint3d.hh: Likewise.
	* oln/core/1d/point1d.hh (impl_nth): New method.
	* oln/core/2d/point2d.hh: Likewise.
	* oln/core/3d/point3d.hh: Likewise.

2005-04-04  Damien Thivolle  <damien@lrde.epita.fr>

	* oln/convert/ng_to_se.hh: Convert a neighborhood to a structuring
	element.
	* oln/core/value_box.hh: Fix operator==.
	* oln/core/properties.hh: Add window property.
	* oln/core/abstract/struct_elt.hh: Add operator-.
	* oln/core/abstract/witer.hh (nth): Add method.
	* oln/core/abstract/dpoint.hh (nth): Add method.
	* oln/core/abstract/neighborhood.hh: Add a window property.
	* oln/core/2d/dpoint2d.hh (nth): Add method.
	* oln/core/2d/neighborhood2d.hh: Add a window property.
	* oln/core/2d/fwd_witer2d.hh: Replace unknown type in constructor.
	* oln/utils/clone.hh: Use concrete_type.
	* oln/makefile.src: Add new files.
	* oln/morpho/reconstruction.hh: New. Sequential and hybrid versions.
	* oln/morpho/splitse.hh: New. Split a structuring element.
	* oln/morpho/stat.hh: Typo fix.
	* oln/morpho/erosion.hh: Fix erroneus function name .
	* oln/io/write_image_2d_pnm.hh: Invert binary values (0=>1, 1=>0).
	* oln/io/read_image_2d_pnm.hh: Invert binary values.

2005-04-03  Simon Odou  <simon@lrde.epita.fr>

	* oln/morpho/cc_tarjan.hh: New. Add the connected component
	labelling algorithm using the Tarjan Union-Find.

2005-04-03  Simon Odou  <simon@lrde.epita.fr>

	* oln/core/properties.hh: Add missing property declaration for
	backward point iterator and point iterator.
	* oln/core/abstract/image.hh: Likewise.

2005-04-03  Simon Odou  <simon@lrde.epita.fr>

	* oln/core/pw/times.hh: Add missing header.
	* oln/core/pw/div.hh: Likewise.
	* oln/core/pw/plus.hh: Likewise.
	* oln/core/pw/minus.hh: Likewise.
	* oln/core/any/dpoint.hh: Likewise.
	* oln/core/any/point.hh: g++-3.4 compliance.
	* oln/utils/clone.hh: Likewise.
	* oln/morpho/dilation.hh: Likewise.
	* oln/morpho/erosion.hh: Likewise.

2005-04-02  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/core/pw/times.hh: New file.
	* oln/core/pw/image.hh: New file.
	* oln/core/pw/div.hh: New file.
	* oln/core/pw/plus.hh: New file.
	* oln/core/pw/abstract/function.hh: New file.
	* oln/core/pw/all.hh: New file.
	* oln/core/pw/minus.hh: New file.
	* oln/core/pw/literal.hh: New file.
	* oln/core/pw/cmp.hh: New file.
	* oln/core/any/all.hh: New file.
	* oln/core/any/point.hh: New file.
	* oln/core/any/size.hh: New file.
	* oln/core/any/dpoint.hh: New file.
	* oln/core/abstract/point.hh (operator any_point): New.
	* oln/core/abstract/size.hh: Cosmetic changes.
	* oln/core/1d/size1d.hh (impl_eq(any_size)): New.
	* oln/core/2d/size2d.hh (impl_eq(any_size)): New.
	* oln/core/3d/size3d.hh (impl_eq(any_size)): New.
	* oln/basics2d.hh: Include core/2d/fwd_piter2d and core/2d/bkd_piter2d.
	* oln/basics.hh: Include core/any/all.hh and core/pw/all.hh.
	* oln/makefile.src (OLN_DEP): Add new files.

2005-04-01  Roland Levillain  <roland@lrde.epita.fr>

	First version of oln::apply, for Adaptable Unary Functions.

	* oln/core/apply.hh: New file.
	* oln/core/ch_value_type.hh: New file.
	* oln/makefile.src (OLN_DEP): Add core/apply.hh and
	core/ch_value_type.hh.
	* tests/core/tests/apply: New test.

	* oln/makefile.src (OLN_DEP): Add
	core/abstract/image_by_delegation.hh, core/abstract/image_like_.hh,
	core/abstract/image_operator.hh and core/gen/identity.hh.
	Remove core/abstract/image_identity.hh.
	* oln/core/abstract/image.hh (echo): Print concrete_type.
	* oln/core/abstract/image_dimension.hh: Add missing comments.

2005-03-31  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/core/abstract/image_like_.hh: Set concrete_type property.
	* oln/core/abstract/image_operator.hh: Add typedefs.
	* oln/morpho/dilation.hh
	(proc::dilation): New.
	(impl::dilation_type): Rename as...
	(dilation_ret): ...this.
	(dilation_type_classic): Rename as...
	(generic_dilation): ...this.
	* oln/morpho/erosion.hh: Likewise.

2005-03-31  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/core/abstract/image_like_.hh: New.
	* oln/core/abstract/image_operator.hh: New.
	* oln/core/abstract/image_by_delegation.hh: New.
	* oln/core/abstract/image_identity.hh: Move to...
	* oln/core/gen/identity.hh: here.
	* tests/core/tests/image_identity: Update.
	* oln/core/abstract/op.hh: Update.
	* oln/core/2d/image2d.hh: Update.
	* oln/core/box.hh (image()): Rename into...
	* oln/core/box.hh (unbox()): this.
	* oln/utils/clone.hh: Update.
	* oln/basics.hh: Likewise.
	* oln/morpho/dilation.hh: Likewise.
	* oln/morpho/erosion.hh: Likewise.
	* oln/io/read_image_2d_pnm.hh: Cosmetic change.
	* oln/arith/min.hh: Likewise.
	* oln/arith/max.hh: Likewise.

2005-03-30  Thierry Geraud  <theo@lrde.epita.fr>

	* oln/core/box.hh: New.
	* oln/core/abstract/image.hh
	(resize_border): Temporary method to pass make check.
	* oln/core/abstract/image_with_data.hh: Update.
	* oln/core/abstract/op.hh: Likewise.
	* oln/utils/clone.hh: Likewise.
	* oln/basics.hh: Likewise.
	* oln/morpho/dilation.hh: Likewise.
	* oln/morpho/erosion.hh: Likewise.
	* oln/arith/min.hh: Likewise.
	* oln/arith/max.hh: Likewise.
	* oln/morpho/stat.hh: Add test (hold) to pass make check.

2005-03-25  Nicolas Widynski  <nicolas.widynski@lrde.epita.fr>

	* oln/core/abstract/image.hh: Add concrete type.
	* oln/core/abstract/image_with_data.hh: Likewise.
	* oln/core/properties.hh: Likewise.

2005-03-23  Christophe Berger  <christophe@lrde.epita.fr>

	* oln/core/abstract/point.hh: Fix point type.
	* oln/core/3d/dpoint3d.hh: New.
	* oln/core/3d/point3d.hh: Add operators (+-) implementations.
	* oln/basics3d.hh: Add new header inclusion.
	* oln/makefile.src: Add new file.

2005-03-22  Simon Odou  <simon@lrde.epita.fr>

	* tests/convert/tests/value_to_point: Fix a wrong instruction.
	* oln/io/read_image_2d_pnm.hh: Move static variables inside an
	inline function to attributes.
	* img/object.pbm: New. Add missing image for dilation and erosion
	tests.

2005-03-20  Damien Thivolle  <damien@lrde.epita.fr>

	* tests/morpho/tests/dilation: New.
	* tests/morpho/tests/erosion: New.
	* tests/level/Makefile.am: Add missing inclusions.
	* oln/core/abstract/image_with_data.hh: Use resize_border for const
	images.
	* oln/utils/key.hh: Add md5 key implementation.
	* oln/utils/key.hxx: Likewise.
	* oln/utils/buffer.hh: Add md5 buffer implementation.
	* oln/utils/buffer.hxx: Likewise.
	* oln/utils/md5.hh: Add md5 algorithm implementation.
	* oln/utils/md5.hxx: Likewise.
	* oln/utils/clone.hh: Make it respect algorithm coding style.
	* oln/morpho/dilation.hh: New. Classical dilation implementation
	* oln/morpho/stat.hh: Replace obsolete use of ::dim by size properties.
	* oln/morpho/erosion.hh: New. Classical erosion implementation
	* oln/io/write_image_2d_pnm.hh: Fix binary file handling.
	* oln/io/read_image_2d_pnm.hh: Likewise.

2005-03-20  Simon Odou  <simon@lrde.epita.fr>

	* tests/morpho/tests/stat: New. Test morpho min and max.

2005-03-20  Damien Thivolle  <damien@lrde.epita.fr>

	* tests/arith: New.
	* tests/arith/tests: New.
	* tests/arith/tests/min: New.
	* tests/arith/tests/max: New.
	* tests/arith/Makefile.am: New.
	* oln/basics.hh: Include oln/core/abstract/op.hh.
	* oln/arith: New.
	* oln/arith/min.hh: Compute the pointwise minimum between two images.
	* oln/arith/max.hh: Compute the pointwise maximum between two images.

2005-03-20  Simon Odou  <simon@lrde.epita.fr>

	* oln/core/abstract/struct_elt.hh: Add delta to stucturing element..
	* oln/core/2d/window2d.hh: Likewise.
	* oln/core/abstract/neighborhood.hh: Add delta to neighborhood.
	* oln/core/2d/neighborhood2d.hh: Likewise.
	* oln/core/accum.hh: New. Accumulator needed for delta computation.
	* oln/makefile.src: Add missing files.

2005-03-20  Simon Odou  <simon@lrde.epita.fr>

	* oln/convert/value_to_point.hh: New.
	Conversion of value to point. This is temporary: waiting for a
	coherent `convert' in this prototype.
	* tests/convert/tests/value_to_point: New.
	* tests/convert: New.
	* tests/convert/tests: New.
	* tests/convert/Makefile.am: New.
	* oln/convert: New.

2005-03-20  Simon Odou  <simon@lrde.epita.fr>

	* oln/morpho: New.
	* oln/morpho/stat.hh: New. Add morphological min and max.
	* oln/core/abstract/piter.hh: Add `for_all_remaining' macro.
	* oln/core/abstract/point.hh: Fix a return type (was abstract).
	* tests/morpho: New. Add test suite for morpho.
	* tests/morpho/tests: New. Likewise.
	* tests/morpho/Makefile.am: New. Likewise.
	* oln/basics.hh: Add headers.

2005-03-20  Simon Odou  <simon@lrde.epita.fr>

	* oln/core/2d/fwd_witer2d.hh: New. Forward window iterator in 2d.

2005-03-20  Simon Odou  <simon@lrde.epita.fr>

	* tests/core/tests/fwd_witer2d: New. Test for forward window
	iterator in 2d.
	* oln/makefile.src: Add new headers.
	* oln/core/abstract/struct_elt.hh: Fix a bad prototype.
	* oln/core/abstract/neighborhood.hh: Likewise.
	* oln/core/abstract/witer.hh: New. Add window iterator.
	* oln/core/2d/window2d.hh: Add `fwd_witer' property..
	* oln/core/properties.hh: Likewise.
	* oln/basics2d.hh: Add new headers.

2005-03-20  Damien Thivolle  <damien@lrde.epita.fr>

	* tests/utils: New.
	* tests/utils/tests: New.
	* tests/utils/tests/clone: New.
	* tests/utils/Makefile.am: New.
	* oln/utils: New.
	* oln/utils/clone.hh: New. Clone images.
	* oln/makefile.src: Add new file.
	* oln/core/value_box.hh: Add operators for value_box<I> because it
	does not match template <typename II> value_box<II>.
	* oln/core/abstract/op.hh: Add missing initialization.
	* oln/core/1d/image1d.hh: Add constructor for size1d.
	* oln/core/2d/image2d.hh: Add constructor for size2d.
	* oln/core/3d/image3d.hh: Add constructor for size3d.

2005-03-20  Simon Odou  <simon@lrde.epita.fr>

	* tests/core/tests/image_vectorialness: New.
	* tests/core/tests/readwrite_image: Add vectorialness property.
	* oln/makefile.src: Add new files.
	* oln/core/abstract/image.hh: Register `vectorialness' property.
	* oln/core/abstract/image_vectorialness.hh: New. Add vectorialness
	abstraction.
	* oln/core/abstract/entry.hh: Add inheritance to new branch
	`vectorialness'.
	* oln/core/1d/image1d.hh: Add `vectorialness' property.
	* oln/core/2d/image2d.hh: Likewise.
	* oln/core/3d/image3d.hh: Likewise.
	* oln/core/properties.hh: Declare `vectorialness' property..

2005-03-20  Damien Thivolle  <damien@lrde.epita.fr>

	* tests/core/tests/piter2d: Add a test for backward 2d iterators.
	* oln/makefile.src: Add new file.
	* oln/core/2d/image2d.hh: Include bkd_piter2d.hh.
	* oln/core/2d/bkd_piter2d.hh: New. bkd_piter2d implementation.
	* oln/core/properties.hh: Add bkd_piter_type property.

2005-03-20  Damien Thivolle  <damien@lrde.epita.fr>

	* tests/core/tests/border2d: New.
	* oln/core/abstract/image_with_data.hh: Add resize_border and
	impl_hold_large methods.
	* oln/core/abstract/data_storage.hh: Add resize_border in generic
	data_storage class.
	* oln/core/2d/array2d.hh: Add resize_border implementation for array2d.
	* oln/core/2d/image2d.hh: Add a border argument to image2d constructor.

2005-03-19  Simon Odou  <simon@lrde.epita.fr>

	* oln/makefile.src: Add compose.hh.
	* oln/core/compose.hh: New.

2005-03-19  Simon Odou  <simon@lrde.epita.fr>

	* oln/makefile.src: Add neighborhood and structuring element files
	to makefile.src.

2005-03-19  Simon Odou  <simon@lrde.epita.fr>

	* tests/core/tests/neighborhood2d: New.
	* oln/core/abstract/neighborhood.hh: New.
	* oln/core/2d/neighborhood2d.hh: New.
	* oln/core/properties.hh: Add `neighborhood' category.

2005-03-19  Simon Odou  <simon@lrde.epita.fr>

	* tests/core/tests/window2d: New.
	* oln/core/abstract/struct_elt.hh: New.
	* oln/core/2d/window2d.hh: New.
	* oln/core/properties.hh: Add `struct_elt' category.

2005-03-19  Damien Thivolle  <damien@lrde.epita.fr>

	* oln/io/utils.hh: Add a traits for g++-3.3.

2005-03-19  Damien Thivolle  <damien@lrde.epita.fr>

	* oln/makefile.src: Add missing files.

2005-03-19  Damien Thivolle  <damien@lrde.epita.fr>

	* Makefile.am: Add `img' to the subdirectories list.
	* img/Makefile.am: Declare images to distribute.

2005-03-19  Damien Thivolle  <damien@lrde.epita.fr>

	* tests/level: New.
	* tests/level/tests: New.
	* tests/level/tests/compare: New.
	* tests/level/tests/fill: New.
	* tests/level/runs: New.
	* tests/level/Makefile.am: New.
	* oln/makefile.src: Add new files.
	* oln/level: New.
	* oln/level/compare.hh: Add comparison operators for images.
	* oln/level/fill.hh: Add fill function for images.

2005-03-19  Damien Thivolle  <damien@lrde.epita.fr>

	* tests/core/tests/piter1d: Add test for 1D forward point iterators.
	* tests/core/tests/piter2d: Add test for 2D forward point iterators.
	* tests/core/tests/piter3d: Add test for 3D forward point iterators.

2005-03-19  Damien Thivolle  <damien@lrde.epita.fr>

	* oln/core/abstract/piter.hh: Correct for_all.

2005-03-19  Damien Thivolle  <damien@lrde.epita.fr>

	* tests/io/loadsave.hh: Adapt to integre.
	* tests/core/tests/readonly_image: Likewise.
	* tests/core/tests/image1d: Likewise.
	* tests/core/tests/image2d: Likewise.
	* tests/core/tests/readwrite_image: Likewise.
	* tests/core/tests/image3d: Likewise.
	* tests/core/tests/image_identity: Likewise.
	* oln/fancy/print.hh: Likewise.
	* oln/basics.hh: Likewise.
	* oln/basics1d.hh: Likewise.
	* oln/io/write_image_2d_pnm.hh: Likewise.
	* oln/io/read_image_2d_pnm.hh: Likewise.
	* oln/io/utils.hh: Likewise.
	* oln/core/value_box.hh: Likewise.

2005-03-14  Damien Thivolle  <damien@lrde.epita.fr>

	* oln/makefile.src: Add new file.
	* oln/all.hh: New.

2005-03-14  Damien Thivolle  <damien@lrde.epita.fr>

	* tests/io: New.
	* tests/io/tests: New.
	* tests/io/tests/2d: New.
	* tests/io/Makefile.am: New.
	* tests/io/loadsave.hh: New.
	* oln/makefile.src: Add new files.
	* oln/io/write_image_2d_pnm.hh: Modify function prototypes.
	* oln/io/gz_stream.hh: New. Gz stream classes.
	* oln/io/read_image_2d_pnm.hh: Modify function prototypes.
	* oln/io/write_image.hh: Add gz stream support.
	* oln/io/read_image.hh: Likewise.
	* oln/io/utils.hh: Modify function prototypes.
	* oln/core/value_box.hh: Add new operator== for value_box.
	* oln/core/2d/image2d.hh: Remove debug output.
	* img/lena.pgm.gz: New.
	* img/lena.pgm: New.
	* img/chien.pbm.gz: New.
	* img/chien.pbm: New.
	* img/lena.ppm.gz: New.
	* img/lena.ppm: New.
	* img/lena.pbm.gz: New.
	* img/lena.pbm: New.

2005-03-14  Roland Levillain  <roland@lrde.epita.fr>

	Use the compiler's debug flags in the test suite.

	* tests/check/Makefile.flags (AM_CXXFLAGS): Add $(CXXFLAGS_DEBUG).

2005-03-14  Thierry Geraud  <theo@lrde.epita.fr>

	* oln/core/3d/fwd_piter3d.hh: New.
	* tests/core/tests/readwrite_image: Fix to pass make check.
	* tests/core/tests/image_identity: Likewise.
	* oln/fancy/print.hh: Likewise.
	* oln/core/1d/array1d.hh: Likewise.
	* oln/core/1d/fwd_piter1d.hh: Likewise.
	* oln/core/1d/point1d.hh: Likewise.
	* oln/core/1d/size1d.hh: Likewise.
	* oln/core/coord.hh: Likewise.
	* oln/core/2d/fwd_piter2d.hh: Likewise.
	* oln/core/2d/point2d.hh: Likewise.
	* oln/core/2d/size2d.hh: Likewise.
	* oln/core/3d/size3d.hh: Likewise.
	* oln/core/3d/array3d.hh: Likewise.
	* oln/core/3d/image3d.hh: Likewise.
	* oln/core/3d/point3d.hh: Likewise.

2005-03-10  Thierry Geraud  <theo@lrde.epita.fr>

	* oln/core/entry.hh: Move to...
	* oln/core/abstract/entry.hh: ...here.
	* oln/core/properties.hh: New.
	* tests/core/tests/image1d: Adapt to properties management.
	* tests/core/tests/image2d: Likewise.
	* tests/core/tests/image3d: Likewise.
	* tests/core/tests/image_identity: Likewise.
	* tests/core/tests/setget: Likewise.
	* oln/fancy/print.hh: Likewise.
	* oln/fancy/iota.hh: Likewise.
	* oln/basics.hh: Likewise.
	* oln/makefile.src: Likewise.
	* oln/io/write_image_2d_pnm.hh: Likewise.
	* oln/io/read_image_2d_pnm.hh: Likewise.
	* oln/io/write_image.hh: Likewise.
	* oln/io/read_image.hh: Likewise.
	* oln/core/value_box.hh: Likewise.
	* oln/core/abstract/image_constness.hh: Likewise.
	* oln/core/abstract/image.hh: Likewise.
	* oln/core/abstract/piter.hh: Likewise.
	* oln/core/abstract/images.hh: Likewise.
	* oln/core/abstract/image_with_data.hh: Likewise.
	* oln/core/abstract/point.hh: Likewise.
	* oln/core/abstract/image_identity.hh: Likewise.
	* oln/core/abstract/data_storage.hh: Likewise.
	* oln/core/abstract/internal/image_impl.hh: Likewise.
	* oln/core/abstract/op.hh: Likewise.
	* oln/core/1d/array1d.hh: Likewise.
	* oln/core/1d/image1d.hh: Likewise.
	* oln/core/1d/fwd_piter1d.hh: Likewise.
	* oln/core/1d/point1d.hh: Likewise.
	* oln/core/coord.hh: Likewise.
	* oln/core/2d/array2d.hh: Likewise.
	* oln/core/2d/image2d.hh: Likewise.
	* oln/core/2d/fwd_piter2d.hh: Likewise.
	* oln/core/2d/point2d.hh: Likewise.
	* oln/core/3d/array3d.hh: Likewise.
	* oln/core/3d/image3d.hh: Likewise.
	* oln/core/3d/point3d.hh: Likewise.
	* oln/core/cats.hh: Remove because obsolete.
	* oln/core/props.hh: Likewise.
	* oln/core/macros.hh: Likewise.

2005-03-08  Roland Levillain  <roland@lrde.epita.fr>

	* oln/core/abstract/image_with_data.hh (impl_size, impl_npoints)
	(impl_hold, impl_get, impl_set): Ensure that the image contains
	data.

2005-03-02  Damien Thivolle  <damien@lrde.epita.fr>

	* oln/io/write_image_2d_pnm.hh: Add ppm and pbm output methods.
	* oln/io/read_image_2d_pnm.hh: Add ppm and pbm input methods.
	* oln/io/utils.hh: Fix an error occuring when writing pbm headers.
	* oln/core/abstract/image_with_data.hh: Remove an unexpected `return'.
	* oln/core/2d/image2d.hh: Fix circular inclusion problem.

2005-03-02  simon odou  <simon@lrde.epita.fr>

	* oln/core/entry.hh: g++-3.4 compliance.

2005-03-02  simon odou  <simon@lrde.epita.fr>

	* oln/core/entry.hh: New.
	Just a basic and temporary property inheritance system.
	* oln/core/abstract/images.hh: Likewise.
	* oln/core/abstract/image_with_data.hh: Likewiwe.
	* oln/core/abstract/image_identity.hh: Likewiwe.
	* oln/core/1d/image1d.hh: Likewiwe.
	* oln/core/2d/image2d.hh: Likewiwe.
	* oln/core/3d/image3d.hh: Likewiwe.
	* tests/core/tests/readonly_image: Likewiwe.
	* tests/core/tests/readwrite_image: Likewiwe.
	* oln/core/tags.hh: Remove.
	Old inheritance system.
	* oln/makefile.src: Remove tags.hh, add entry.hh.

2005-02-24  Damien Thivolle  <damien@lrde.epita.fr>

	* oln/makefile.src: Add new files.
	* oln/io/write_image_2d_pnm.hh: New. pgm output method for 2D images.
	* oln/io/read_image_2d_pnm.hh: Handle mlc::box correctly.
	* oln/io/write_image.hh: New. Dispatch for output methods.
	* oln/io/read_image.hh: Handle mlc::box correctly..
	* oln/io/utils.hh: Add pnm_write_header function.

2005-02-24  Damien Thivolle  <damien@lrde.epita.fr>

	* oln/makefile.src: Add new files.
	* oln/io: New.
	* oln/io/read_image_2d_pnm.hh: New. 2D image pnm i/o (only raw pgm
	at the moment).
	* oln/io/read_image.hh: New. Abstract input routine.
	* oln/io/utils.hh: New. Tools for i/o manipulations.
	* oln/core/abstract/op.hh: New. Algorithms abstract class.

2005-02-24  Damien Thivolle  <damien@lrde.epita.fr>

	* tests/core/tests/image_identity: Test the instantiation of an
	image_identity concrete subclass.
	* oln/core/abstract/morpher.hh: Move to...
	* oln/core/abstract/image_identity.hh: ...here.
	* oln/core/2d/image2d.hh: Overload operator= to accept image_identity.
	* oln/core/id_morpher.hh: Remove.

2005-02-18  Damien Thivolle  <damien@lrde.epita.fr>

	* ChangeLog: Previous changes not commited due to a vcs error.
	* oln/fancy/print.hh: Previous changes not commited due to a vcs error.
	* oln/fancy/iota.hh: Previous changes not commited due to a vcs error.
	* oln/makefile.src: Notify new files.
	* oln/core/props.hh: Sanity fixes.
	* oln/core/macros.hh: Likewise.
	* oln/core/abstract/piter.hh: Likewise.
	* oln/core/abstract/point.hh: Likewise.
	* oln/core/abstract/size.hh: Likewise.
	* oln/core/abstract/morpher.hh: New. abstract::morpher implementation.
	* oln/core/abstract/dpoint.hh: Sanity fixes.
	* oln/core/1d/dpoint1d.hh: Likewise.
	* oln/core/1d/fwd_piter1d.hh: Likewise.
	* oln/core/1d/point1d.hh: Likewise.
	* oln/core/2d/dpoint2d.hh: Likewise.
	* oln/core/2d/image2d.hh: Likewise.
	* oln/core/2d/point2d.hh: Likewise.
	* oln/core/3d/point3d.hh: Likewise.
	* oln/core/id_morpher.hh: New. Identity morpher implementation.
	* oln/core/cats.hh: Sanity fixes.

2005-02-18  Damien Thivolle  <damien@lrde.epita.fr>

	* oln/fancy/print.hh: Sanity fixes.
	* oln/fancy/iota.hh: Likewise.
	* oln/makefile.src: Likewise.
	* oln/core/macros.hh: Likewise.
	* oln/core/abstract/image_with_data.hh: Likewise.
	* oln/core/1d/dpoint1d.hh: Likewise.
	* oln/core/1d/point1d.hh: Likewise.
	* oln/core/2d/dpoint2d.hh: Likewise.
	* oln/core/2d/image2d.hh: Likewise.
	* oln/core/2d/point2d.hh: Likewise.
	* oln/core/3d/point3d.hh: Likewise.

2005-02-08  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/core/value_box.hh (value_box): Set cpy ctors public.
	* oln/core/abstract/image.hh: Add preconditions.
	* oln/core/abstract/data_storage.hh (get, set): Add preconditions.
	(clear_data, npoints, hold, hold_large): Replace preconditions by
	lax behavior.

2005-02-08  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/core/value_box.hh: Ensure g++-2.95 compliance.
	* oln/core/abstract/piter.hh: Likewise.
	* oln/core/abstract/point.hh: Likewise.
	* oln/core/abstract/size.hh: Likewise.
	* oln/core/2d/dpoint2d.hh: Likewise.
	* oln/core/2d/array2d.hh: Likewise.
	* oln/core/2d/fwd_piter2d.hh: Likewise.
	* oln/core/2d/point2d.hh: Likewise.
	* oln/core/2d/size2d.hh: Likewise.

2005-02-08  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/core/value_box.hh: Unbox image attribute.
	* oln/core/abstract/image_with_data.hh: Clean up in ctors.
	* oln/core/abstract/data_storage.hh: Fix bug in size().
	* oln/core/2d/array2d.hh: Fix name of size impl.

2005-01-26  Simon Odou  <simon@lrde.epita.fr>

	* oln/fancy/print.hh: Add copyright.
	* oln/fancy/iota.hh: Likewise.
	* oln/basics.hh: Likewise.
	* oln/basics1d.hh: Likewise.
	* oln/core/props.hh: Likewise.
	* oln/core/macros.hh: Likewise.
	* oln/core/value_box.hh: Likewise.
	* oln/core/abstract/image_constness.hh: Likewise.
	* oln/core/abstract/image.hh: Likewise.
	* oln/core/abstract/piter.hh: Likewise.
	* oln/core/abstract/images.hh: Likewise.
	* oln/core/abstract/image_with_data.hh: Likewise.
	* oln/core/abstract/image_dimension.hh: Likewise.
	* oln/core/abstract/point.hh: Likewise.
	* oln/core/abstract/size.hh: Likewise.
	* oln/core/abstract/data_storage.hh: Likewise.
	* oln/core/abstract/dpoint.hh: Likewise.
	* oln/core/abstract/internal/image_impl.hh: Likewise.
	* oln/core/1d/dpoint1d.hh: Likewise.
	* oln/core/1d/array1d.hh: Likewise.
	* oln/core/1d/image1d.hh: Likewise.
	* oln/core/1d/fwd_piter1d.hh: Likewise.
	* oln/core/1d/point1d.hh: Likewise.
	* oln/core/1d/size1d.hh: Likewise.
	* oln/core/coord.hh: Likewise.
	* oln/core/2d/dpoint2d.hh: Likewise.
	* oln/core/2d/array2d.hh: Likewise.
	* oln/core/2d/image2d.hh: Likewise.
	* oln/core/2d/fwd_piter2d.hh: Likewise.
	* oln/core/2d/point2d.hh: Likewise.
	* oln/core/2d/size2d.hh: Likewise.
	* oln/core/3d/size3d.hh: Likewise.
	* oln/core/3d/array3d.hh: Likewise.
	* oln/core/3d/image3d.hh: Likewise.
	* oln/core/3d/point3d.hh: Likewise.
	* oln/core/cats.hh: Likewise.
	* oln/core/tags.hh: Likewise.
	* oln/basics2d.hh: Likewise.
	* oln/basics3d.hh: Likewise.

2005-01-24  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/core/abstract/dpoint.hh: New.
	* oln/core/1d/dpoint1d.hh: New.
	* oln/core/1d/fwd_piter1d.hh: New.
	* oln/core/2d/dpoint2d.hh: New.
	* oln/fancy/print.hh: Fix includes.
	* oln/fancy/iota.hh: Set generic.
	* oln/core/macros.hh: Add oln_dpoint_type(T).
	* oln/core/abstract/piter.hh: Change is_ok into is_valid.  Move
	  call to invalidate into subclasses.
	* oln/core/abstract/point.hh: Document.  Add properties.
	* oln/core/coord.hh: Turn coord_t into a class.
	* oln/core/1d/point1d.hh: Add arithmetics and properties.  Remove 0
	  settings.
	* oln/core/2d/point2d.hh: Likewise.
	* oln/core/1d/size1d.hh: Remove 0 settings.
	* oln/core/2d/size2d.hh: Likewise.
	* oln/core/2d/array2d.hh: Change invariant.
	* oln/core/2d/fwd_piter2d.hh: Change is_ok into is_valid.  Add
	  call to invalidate in ctor.  Add contract.


2005-01-24  Damien Thivolle  <damien@lrde.epita.fr>

	* oln/makefile.src: Add new files to distribution and remove old one.
	* oln/core/macros.hh: Add oln_iter_type macro.
	* oln/core/abstract/piter.hh: Fix compilation errors.
	* oln/core/2d/image2d.hh: Fix incorrect file inclusion.
	* oln/core/2d/fwd_piter2d.hh: Fix compilation errors.

2005-01-24  Thierry GERAUD  <theo@tegucigalpa.lrde.epita.fr>

	* oln/core/props.hh: Move image defaults into abstract/image.hh.
	* oln/core/macros.hh: Add piter related macros.
	* oln/core/abstract/image.hh: Add image defaults and piter typedefs.
	* oln/core/abstract/iter.hh: Move to piter.hh.
	* oln/core/abstract/piter.hh: Change interface.
	* oln/core/2d/image2d.hh: Add piter typedefs in props.
	* oln/core/2d/iter2d.hh: Move to fwd_piter2d.hh.
	* oln/core/2d/fwd_piter2d.hh: Conform to new interface.
	* oln/core/cats.hh: Add cat::piter.

2005-01-21  Simon Odou  <simon@lrde.epita.fr>

	* tests/core/tests/readonly_image: New.
	* tests/core/tests/readwrite_image: New.

2005-01-21  Simon Odou  <simon@lrde.epita.fr>

	* oln/core/tags.hh: The abstract entry point is a big switch which
	  must now inherits an image dimension.
	* oln/fancy/print.hh: Use abstraction for image with dimension
	  (image_with_dim in Olena).
	* oln/fancy/iota.hh: Likewise.
	* oln/makefile.src: Add image_dimension.hh.
	* oln/core/abstract/image_dimension.hh: New.
	* oln/core/1d/image1d.hh: Add a property for dimension.
	* oln/core/2d/image2d.hh: Likewise.
	* oln/core/3d/image3d.hh: Likewise.

2005-01-21  Simon Odou  <simon@lrde.epita.fr>

	* oln/makefile.src: Fix missing files.

2005-01-21  Simon Odou  <simon@lrde.epita.fr>

	* tests/core/tests/image3d: New.
	* oln/fancy/print.hh: Add print for image3d.
	* oln/fancy/iota.hh: Add iota for image3d.
	* oln/core/2d/image2d.hh: Fix a 80 columns line.
	* oln/core/3d/array3d.hh: Fix a missing variable.
	* oln/core/3d/image3d.hh: New.
	* oln/core/3d/point3d.hh: Fix a missing "rhs".
	* oln/basics3d.hh: Add image3d include.

2005-01-21  Simon Odou  <simon@lrde.epita.fr>

	* tests/core/tests/image1d: New.
	* oln/fancy/print.hh: Add print for image1d.
	* oln/fancy/iota.hh: Add iota for image1d.
	* oln/basics1d.hh: Add image1d include.
	* oln/core/2d/image2d.hh: Move the has_data method to...
	* oln/core/abstract/image_with_data.hh: here.
	* oln/core/1d/image1d.hh: New.
	* oln/core/1d/size1d.hh: Fix a forgotten initialization in
	  constructor.

2005-01-21  Simon Odou  <simon@lrde.epita.fr>

	* oln/core/1d/array1d.hh: New.
	* oln/core/2d/array2d.hh: Fix a missing destructor.
	* oln/core/3d/array3d.hh: New.

2005-01-21  Simon Odou  <simon@lrde.epita.fr>

	* oln/basics1d.hh: Add size1d include.
	* oln/core/1d/size1d.hh: New.
	* oln/core/2d/size2d.hh: Fix a missing "this".
	* oln/core/3d/size3d.hh: New.
	* oln/basics3d.hh: Add size3d include.

2005-01-21  Simon Odou  <simon@lrde.epita.fr>

	* oln/basics1d.hh: New.
	* oln/core/1d/point1d.hh: New.
	* oln/core/3d: New.
	* oln/core/3d/point3d.hh: New.
	* oln/basics3d.hh: New.

2005-01-21  Damien Thivolle  <damien@lrde.epita.fr>

	* oln/makefile.src: Update file dependencies.
	* oln/core/2d/iter2d.hh: Fix a bad file inclusion.

2005-01-21  Damien Thivolle  <damien@lrde.epita.fr>

	* ChangeLog: New.
	* oln/makefile.src: Adds file dependencies.
	* oln/core/abstract/iter.hh: New.
	* oln/core/abstract/size.hh: Adapts to coding style.
	* oln/core/2d/iter2d.hh: New.
