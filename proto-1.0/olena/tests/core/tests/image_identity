#include <oln/core/2d/image2d.hh>
#include <oln/core/gen/identity.hh>
#include <ntg/all.hh>



bool check()
{
  using namespace oln; 
  point2d p(0, 0);

  image2d<ntg::int_u8> ima(10, 10);
  internal::image_identity< image2d<ntg::int_u8> > _ima(ima);
  internal::image_identity< internal::image_identity< image2d<ntg::int_u8> > > __ima(_ima);

  __ima[p] = 'a';
  ntg::int_u8 b = ima[p];
  if (b == 'a')
    return false;
  else
    return true;
}

